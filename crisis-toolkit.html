<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Crisis Support Toolkit</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet" />
  <style>
    * {
      box-sizing: border-box;
    }

    body, html {
      margin: 0;
      padding: 0;
      font-family: 'Poppins', sans-serif;
      color: #1a202c;
      background: linear-gradient(to top, #a1c4fd, #c2e9fb);
      background-attachment: fixed;
      overflow-x: hidden;
      position: relative;
    }

    body::before {
      content: '';
      position: absolute;
      width: 300%;
      height: 100%;
      top: 0;
      left: -100%;
      background: url('https://svgshare.com/i/13Qz.svg') repeat-x;
      background-size: contain;
      animation: floatClouds 60s linear infinite;
      z-index: 0;
      opacity: 0.25;
    }

    @keyframes floatClouds {
      0% { transform: translateX(0); }
      100% { transform: translateX(100%); }
    }

    main {
      position: relative;
      z-index: 1;
      padding: 2rem;
      max-width: 900px;
      margin: auto;
      background: rgba(255, 255, 255, 0.95);
      border-radius: 12px;
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
    }

    h1 {
      font-size: 2rem;
      margin-bottom: 0.5rem;
      color: #2c5282;
      text-align: center;
    }

    select, button, input[type="radio"] {
      margin-top: 0.5rem;
    }

    label {
      display: block;
      margin: 0.5rem 0;
    }

    .resource {
      background: #f0f4f8;
      padding: 1rem;
      margin-bottom: 1rem;
      border-radius: 8px;
      border-left: 5px solid #3182ce;
    }

    .resource h3 {
      margin-top: 0;
    }

    .assessment-section {
      margin-top: 2rem;
    }

    .assessment-section fieldset {
      border: none;
      margin-bottom: 1.5rem;
    }

    .assessment-section legend {
      font-weight: bold;
      color: #2c5282;
    }

    .assessment-section input[type="radio"] {
      margin-right: 0.5rem;
    }

    .assessment-section button {
      background: #805ad5;
      color: white;
      padding: 0.75rem 1.5rem;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 1rem;
      margin-top: 1rem;
    }

    .assessment-section button:hover {
      background: #6b46c1;
    }

    #result {
      margin-top: 1rem;
      padding: 1rem;
      border-radius: 6px;
      font-weight: bold;
    }

    .low-risk {
      background: #c6f6d5;
      color: #22543d;
    }

    .moderate-risk {
      background: #fefcbf;
      color: #744210;
    }

    .high-risk {
      background: #fed7d7;
      color: #822727;
    }

    footer {
      text-align: center;
      font-size: 0.9rem;
      color: #2d3748;
      margin-top: 2rem;
    }
  </style>
</head>
<body>
  <main>
    <h1>🌈 Crisis Support Toolkit</h1>
    <p style="text-align:center;">You are not alone. Immediate help is available — wherever you are.</p>

    <label for="country">🌍 Select your country:</label>
    <select id="country">
      <option value="usa">🇺🇸 United States</option>
      <option value="canada">🇨🇦 Canada</option>
      <option value="uk">🇬🇧 United Kingdom</option>
      <option value="australia">🇦🇺 Australia</option>
      <option value="india">🇮🇳 India</option>
    </select>

    <div id="resources"></div>

    <div class="assessment-section">
      <h2>🧠 Mental Health Self-Assessment</h2>
      <form id="assessment-form">
        <fieldset>
          <legend>1. How often have you felt down or hopeless recently?</legend>
          <label><input type="radio" name="q1" value="0"> Not at all</label>
          <label><input type="radio" name="q1" value="1"> Sometimes</label>
          <label><input type="radio" name="q1" value="2"> Often</label>
        </fieldset>
        <fieldset>
          <legend>2. Do you feel disconnected or unmotivated?</legend>
          <label><input type="radio" name="q2" value="0"> Rarely</label>
          <label><input type="radio" name="q2" value="1"> Occasionally</label>
          <label><input type="radio" name="q2" value="2"> Frequently</label>
        </fieldset>
        <fieldset>
          <legend>3. Are you experiencing thoughts of self-harm?</legend>
          <label><input type="radio" name="q3" value="0"> No</label>
          <label><input type="radio" name="q3" value="2"> Sometimes</label>
          <label><input type="radio" name="q3" value="4"> Yes</label>
        </fieldset>
        <fieldset>
          <legend>4. How difficult are these feelings making life?</legend>
          <label><input type="radio" name="q4" value="0"> Not at all</label>
          <label><input type="radio" name="q4" value="1"> Somewhat</label>
          <label><input type="radio" name="q4" value="2"> Very difficult</label>
        </fieldset>
        <button type="submit">Check My Risk Level</button>
      </form>
      <div id="result" tabindex="-1"></div>
    </div>

    <footer>
      📞 If you're in immediate danger, please call 911 or your local emergency services.<br/>
      Made with care 💜 for anyone in crisis.
    </footer>
  </main>

  <script>
    const resources = {
      usa: [
        {
          name: '988 Suicide & Crisis Lifeline',
          phone: '988',
          url: 'https://988lifeline.org'
        },
        {
          name: 'Crisis Text Line (Text HOME to 741741)',
          phone: '',
          url: 'https://www.crisistextline.org'
        },
        {
          name: 'Veterans Crisis Line',
          phone: '988 (press 1)',
          url: 'https://www.veteranscrisisline.net'
        }
      ],
      canada: [
        {
          name: 'Talk Suicide Canada',
          phone: '1-833-456-4566',
          url: 'https://talksuicide.ca'
        },
        {
          name: 'Kids Help Phone',
          phone: '1-800-668-6868',
          url: 'https://kidshelpphone.ca'
        }
      ],
      uk: [
        {
          name: 'Samaritans',
          phone: '116 123',
          url: 'https://www.samaritans.org'
        },
        {
          name: 'Mind UK',
          phone: '0300 123 3393',
          url: 'https://www.mind.org.uk'
        }
      ],
      australia: [
        {
          name: 'Lifeline Australia',
          phone: '13 11 14',
          url: 'https://www.lifeline.org.au'
        },
        {
          name: 'Beyond Blue',
          phone: '1300 22 4636',
          url: 'https://www.beyondblue.org.au'
        }
      ],
      india: [
        {
          name: 'iCall',
          phone: '+91 9152987821',
          url: 'https://icallhelpline.org'
        },
        {
          name: 'AASRA',
          phone: '+91 9820466726',
          url: 'http://www.aasra.info'
        }
      ]
    };

    const countrySelect = document.getElementById('country');
    const resourcesDiv = document.getElementById('resources');

    function renderResources(country) {
      const resList = resources[country];
      resourcesDiv.innerHTML = resList.map(res => `
        <div class="resource">
          <h3>${res.name}</h3>
          <p>📞 <a href="tel:${res.phone.replace(/[^\d+]/g, '')}" aria-label="Call ${res.name}">${res.phone}</a></p>
          <p>🔗 <a href="${res.url}" target="_blank" rel="noopener noreferrer">Learn more</a></p>
        </div>
      `).join('');
    }

    renderResources(countrySelect.value);

    countrySelect.addEventListener('change', () => {
      renderResources(countrySelect.value);
      clearAssessment();
    });

    const form = document.getElementById('assessment-form');
    const resultDiv = document.getElementById('result');

    function clearAssessment() {
      form.reset();
      resultDiv.textContent = '';
      resultDiv.className = '';
    }

    form.addEventListener('submit', e => {
      e.preventDefault();
      const q1 = parseInt(form.q1.value);
      const q2 = parseInt(form.q2.value);
      const q3 = parseInt(form.q3.value);
      const q4 = parseInt(form.q4.value);
      if ([q1,q2,q3,q4].some(isNaN)) {
        alert("Please answer all questions.");
        return;
      }

      const score = q1 + q2 + q3 + q4;

      let message = '';
      let riskClass = '';
      if (score <= 4) {
        message = "✅ Low risk: You're doing okay, but check in with yourself regularly.";
        riskClass = "low-risk";
      } else if (score <= 8) {
        message = "⚠️ Moderate risk: Consider talking to someone you trust or a mental health professional.";
        riskClass = "moderate-risk";
      } else {
        message = "🚨 High risk: Please contact a crisis hotline or seek immediate help.";
        riskClass = "high-risk";
      }

      resultDiv.textContent = message;
      resultDiv.className = riskClass;
      resultDiv.focus();
    });
  </script>
</body>
</html>