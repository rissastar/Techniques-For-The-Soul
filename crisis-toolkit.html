<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Crisis Support Toolkit | Trousse d'aide en situation de crise</title>
<style>
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    line-height: 1.6;
    color: #333;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    min-height: 100vh;
    overflow-x: hidden;
  }
  .container {
    max-width: 1200px;
    margin: 0 auto 80px;
    padding: 20px;
  }
  .header {
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    border-radius: 20px;
    padding: 40px 30px;
    margin-bottom: 30px;
    text-align: center;
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
  }
  .header h1 {
    font-size: 2.5em;
    color: #2c3e50;
    margin-bottom: 10px;
    font-weight: 700;
  }
  .header .subtitle {
    font-size: 1.2em;
    color: #7f8c8d;
    margin-bottom: 20px;
  }
  .emergency-banner {
    background: linear-gradient(45deg, #e74c3c, #c0392b);
    color: white;
    padding: 20px;
    border-radius: 15px;
    margin-bottom: 30px;
    text-align: center;
    animation: pulse 2s infinite;
    box-shadow: 0 10px 30px rgba(231, 76, 60, 0.3);
  }
  @keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.02); }
    100% { transform: scale(1); }
  }
  .emergency-banner h2 {
    font-size: 1.8em;
    margin-bottom: 15px;
  }
  .emergency-numbers {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
    margin-top: 15px;
  }
  .emergency-number {
    background: rgba(255, 255, 255, 0.2);
    padding: 15px;
    border-radius: 10px;
    text-align: center;
    transition: transform 0.3s ease;
  }
  .emergency-number:hover {
    transform: translateY(-3px);
  }
  .emergency-number .number {
    font-size: 1.5em;
    font-weight: bold;
    display: block;
  }
  .language-toggle {
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 10000;
  }
  .lang-btn {
    background: rgba(255, 255, 255, 0.9);
    border: none;
    padding: 10px 20px;
    margin: 0 5px;
    border-radius: 25px;
    cursor: pointer;
    font-weight: bold;
    transition: all 0.3s ease;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
  }
  .lang-btn.active {
    background: #3498db;
    color: white;
  }
  .lang-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 7px 20px rgba(0, 0, 0, 0.2);
  }
  .content-section {
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    border-radius: 20px;
    padding: 30px 30px 40px;
    margin-bottom: 30px;
    box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
  }
  .section-title {
    font-size: 1.8em;
    color: #2c3e50;
    margin-bottom: 20px;
    padding-bottom: 10px;
    border-bottom: 3px solid #3498db;
    display: flex;
    align-items: center;
    cursor: pointer;
  }
  .section-title .icon {
    margin-right: 15px;
    font-size: 1.4em;
  }
  .country-section {
    margin-bottom: 40px;
  }
  .resource-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
  }
  .resource-card {
    background: #f8f9fa;
    border-radius: 15px;
    padding: 25px;
    transition: all 0.3s ease;
    border-left: 5px solid #3498db;
    position: relative;
    overflow: hidden;
  }
  .resource-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
  }
  .resource-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 3px;
    background: linear-gradient(90deg, #3498db, #2ecc71);
  }
  .resource-title {
    font-size: 1.3em;
    color: #2c3e50;
    margin-bottom: 10px;
    font-weight: 600;
  }
  .resource-description {
    color: #7f8c8d;
    margin-bottom: 15px;
    line-height: 1.5;
  }
  .contact-info {
    background: rgba(52, 152, 219, 0.1);
    padding: 15px;
    border-radius: 10px;
    margin-top: 15px;
  }
  .contact-method {
    display: flex;
    align-items: center;
    margin-bottom: 8px;
    font-weight: 500;
  }
  .contact-method .icon {
    margin-right: 10px;
    color: #3498db;
    width: 20px;
  }
  .phone-number {
    font-size: 1.1em;
    font-weight: bold;
    color: #e74c3c;
  }
  .website {
    color: #3498db;
    text-decoration: none;
    font-weight: 500;
  }
  .website:hover {
    text-decoration: underline;
  }
  .tips-section {
    background: linear-gradient(135deg, #2ecc71, #27ae60);
    color: white;
    border-radius: 20px;
    padding: 30px;
    margin-top: 30px;
  }
  .tips-title {
    font-size: 1.8em;
    margin-bottom: 20px;
    text-align: center;
  }
  .tips-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;
  }
  .tip-card {
    background: rgba(255, 255, 255, 0.1);
    padding: 20px;
    border-radius: 15px;
    backdrop-filter: blur(5px);
  }
  .tip-title {
    font-size: 1.2em;
    margin-bottom: 10px;
    font-weight: 600;
  }
  .hidden {
    display: none;
  }
  .footer {
    text-align: center;
    padding: 30px;
    color: rgba(255, 255, 255, 0.8);
    font-size: 0.9em;
  }
  .btn-scroll {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background: #3498db;
    border: none;
    border-radius: 50px;
    color: white;
    padding: 15px 20px;
    margin-left: 10px;
    font-weight: 700;
    cursor: pointer;
    box-shadow: 0 6px 16px rgba(52, 152, 219, 0.4);
    transition: transform 0.3s ease;
    z-index: 9999;
  }
  .btn-scroll:hover {
    transform: translateY(-5px);
  }
  .modal-bg {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: rgba(44, 62, 80, 0.8);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 100000;
    padding: 20px;
  }
  .modal-bg.active {
    display: flex;
  }
  .modal-content {
    background: #f8f9fa;
    border-radius: 20px;
    padding: 30px 30px 40px;
    max-width: 600px;
    width: 100%;
    max-height: 90vh;
    overflow-y: auto;
    box-shadow: 0 10px 40px rgba(0,0,0,0.2);
    position: relative;
  }
  .modal-header {
    font-size: 1.8em;
    margin-bottom: 20px;
    font-weight: 700;
    color: #2c3e50;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  .modal-close {
    cursor: pointer;
    font-size: 1.6em;
    font-weight: 700;
    background: transparent;
    border: none;
    color: #e74c3c;
    transition: color 0.3s ease;
  }
  .modal-close:hover {
    color: #c0392b;
  }
  label {
    display: block;
    margin-top: 15px;
    font-weight: 600;
    color: #34495e;
  }
  input[type="text"],
  textarea {
    width: 100%;
    padding: 10px 12px;
    margin-top: 6px;
    border-radius: 8px;
    border: 1.8px solid #3498db;
    font-size: 1em;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    resize: vertical;
    color: #2c3e50;
  }
  textarea {
    min-height: 80px;
  }
  .btn-group {
    margin-top: 25px;
    text-align: right;
  }
  button.primary-btn {
    background: #3498db;
    color: white;
    border: none;
    padding: 12px 25px;
    border-radius: 25px;
    font-weight: 700;
    cursor: pointer;
    box-shadow: 0 6px 16px rgba(52, 152, 219, 0.4);
    transition: background 0.3s ease;
  }
  button.primary-btn:hover {
    background: #2c80cc;
  }
  .print-btn {
    background: #27ae60;
    margin-right: 15px;
  }
  .pdf-btn {
    background: #e67e22;
  }
  /* Scroll buttons container */
  .scroll-buttons {
    position: fixed;
    bottom: 20px;
    left: 20px;
    z-index: 9999;
    display: flex;
    flex-direction: column;
    gap: 10px;
  }
  .scroll-buttons button {
    background: #3498db;
    border: none;
    padding: 10px 15px;
    border-radius: 20px;
    color: white;
    font-weight: 600;
    cursor: pointer;
    box-shadow: 0 6px 16px rgba(52, 152, 219, 0.4);
    transition: background 0.3s ease, transform 0.3s ease;
  }
  .scroll-buttons button:hover {
    background: #2c80cc;
    transform: translateX(5px);
  }
  @media (max-width: 768px) {
    .container {
      padding: 10px;
    }
    .header {
      padding: 25px 15px;
    }
    .header h1 {
      font-size: 2em;
    }
    .resource-grid {
      grid-template-columns: 1fr;
    }
    .emergency-numbers {
      grid-template-columns: 1fr;
    }
    .scroll-buttons {
      flex-direction: row;
      bottom: 15px;
      left: 50%;
      transform: translateX(-50%);
      gap: 5px;
    }
    .scroll-buttons button {
      padding: 8px 12px;
      font-size: 0.9em;
    }
  }
</style>
</head>
<body>

<!-- Language toggle -->
<div class="language-toggle" role="region" aria-label="Language selector">
  <button class="lang-btn active" id="en-btn" aria-pressed="true" onclick="showLanguage('en')">English</button>
  <button class="lang-btn" id="fr-btn" aria-pressed="false" onclick="showLanguage('fr')">Français</button>
</div>

<div class="container">

  <!-- English Content -->
  <section id="en-content" class="language-content" lang="en">
    <header class="header">
      <h1>🆘 Crisis Support Toolkit</h1>
      <p class="subtitle">Immediate help and resources for Canada & United States</p>
      <p><strong>You are not alone. Help is available 24/7.</strong></p>
    </header>

    <section class="emergency-banner" aria-label="Emergency phone numbers">
      <h2>🚨 EMERGENCY NUMBERS</h2>
      <p><strong>If you are in immediate danger, call:</strong></p>
      <div class="emergency-numbers">
        <div class="emergency-number" tabindex="0">
          <span class="number">911</span>
          <span>Canada & USA Emergency</span>
        </div>
        <div class="emergency-number" tabindex="0">
          <span class="number">988</span>
          <span>USA Suicide & Crisis Lifeline</span>
        </div>
        <div class="emergency-number" tabindex="0">
          <span class="number">1-833-456-4566</span>
          <span>Canada Talk Suicide</span>
        </div>
      </div>
    </section>

    <!-- Crisis Resources Section -->
    <section id="resources" class="content-section" aria-labelledby="resources-title">
      <h2 id="resources-title" class="section-title" role="button" aria-expanded="true" tabindex="0" onclick="toggleSection('resources-list')"> 
        <span class="icon">📚</span> Crisis Support Resources
      </h2>
      <div id="resources-list">

        <article id="canada-resources" class="country-section" aria-labelledby="canada-title">
          <h3 id="canada-title" class="section-title" role="button" aria-expanded="true" tabindex="0" onclick="toggleSection('canada-list')">
            <span class="icon">🇨🇦</span> CANADA
          </h3>
          <div id="canada-list" class="resource-grid">
            <div class="resource-card" tabindex="0">
              <h4 class="resource-title">Talk Suicide Canada</h4>
              <p class="resource-description">24/7 bilingual support for anyone having thoughts of suicide or those concerned about someone else.</p>
              <div class="contact-info">
                <div class="contact-method"><span class="icon">📞</span> <a href="tel:18334564566" class="phone-number">1-833-456-4566</a></div>
                <div class="contact-method"><span class="icon">💬</span> Text: 45645</div>
                <div class="contact-method"><span class="icon">🌐</span> <a href="https://talksuicide.ca" target="_blank" rel="noopener" class="website">talksuicide.ca</a></div>
              </div>
            </div>
            <div class="resource-card" tabindex="0">
              <h4 class="resource-title">Kids Help Phone</h4>
              <p class="resource-description">24/7 support for young people. Professional counselling, information and referrals.</p>
              <div class="contact-info">
                <div class="contact-method"><span class="icon">📞</span> <a href="tel:18006686868" class="phone-number">1-800-668-6868</a></div>
                <div class="contact-method"><span class="icon">💬</span> Text: CONNECT to 686868</div>
                <div class="contact-method"><span class="icon">🌐</span> <a href="https://kidshelpphone.ca" target="_blank" rel="noopener" class="website">kidshelpphone.ca</a></div>
              </div>
            </div>
            <div class="resource-card" tabindex="0">
              <h4 class="resource-title">Crisis Services Canada</h4>
              <p class="resource-description">24/7 nationwide service providing support to those affected by suicide.</p>
              <div class="contact-info">
                <div class="contact-method"><span class="icon">📞</span> <a href="tel:18334564566" class="phone-number">1-833-456-4566</a></div>
                <div class="contact-method"><span class="icon">🌐</span> <a href="https://crisisservicescanada.ca" target="_blank" rel="noopener" class="website">crisisservicescanada.ca</a></div>
              </div>
            </div>
            <div class="resource-card" tabindex="0">
              <h4 class="resource-title">Canadian Suicide Prevention Service</h4>
              <p class="resource-description">Free confidential support for those in distress and their loved ones.</p>
              <div class="contact-info">
                <div class="contact-method"><span class="icon">📞</span> <a href="tel:18334564566" class="phone-number">1-833-456-4566</a></div>
                <div class="contact-method"><span class="icon">💬</span> Text: 45645</div>
              </div>
            </div>
            <div class="resource-card" tabindex="0">
              <h4 class="resource-title">Mental Health Commission of Canada</h4>
              <p class="resource-description">Resources and information on mental health services across Canada.</p>
              <div class="contact-info">
                <div class="contact-method"><span class="icon">🌐</span> <a href="https://mentalhealthcommission.ca" target="_blank" rel="noopener" class="website">mentalhealthcommission.ca</a></div>
              </div>
            </div>
            <div class="resource-card" tabindex="0">
              <h4 class="resource-title">Canadian Mental Health Association</h4>
              <p class="resource-description">Local mental health services and support across Canada.</p>
              <div class="contact-info">
                <div class="contact-method"><span class="icon">🌐</span> <a href="https://cmha.ca" target="_blank" rel="noopener" class="website">cmha.ca</a></div>
              </div>
            </div>
          </div>
        </article>

        <article id="us-resources" class="country-section" aria-labelledby="us-title">
          <h3 id="us-title" class="section-title" role="button" aria-expanded="true" tabindex="0" onclick="toggleSection('us-list')">
            <span class="icon">🇺🇸</span> UNITED STATES
          </h3>
          <div id="us-list" class="resource-grid">
            <div class="resource-card" tabindex="0">
              <h4 class="resource-title">988 Suicide & Crisis Lifeline</h4>
              <p class="resource-description">Free and confidential support 24/7 for people in distress and their loved ones.</p>
              <div class="contact-info">
                <div class="contact-method"><span class="icon">📞</span> <a href="tel:988" class="phone-number">988</a></div>
                <div class="contact-method"><span class="icon">💬</span> Text: 988</div>
                <div class="contact-method"><span class="icon">💻</span> Chat: <a href="https://988lifeline.org" target="_blank" rel="noopener" class="website">988lifeline.org</a></div>
                <div class="contact-method"><span class="icon">🌐</span> <a href="https://988lifeline.org" target="_blank" rel="noopener" class="website">988lifeline.org</a></div>
              </div>
            </div>
            <div class="resource-card" tabindex="0">
              <h4 class="resource-title">Crisis Text Line</h4>
              <p class="resource-description">24/7 crisis support via text message.</p>
              <div class="contact-info">
                <div class="contact-method"><span class="icon">💬</span> Text HOME to 741741</div>
                <div class="contact-method"><span class="icon">🌐</span> <a href="https://www.crisistextline.org" target="_blank" rel="noopener" class="website">crisistextline.org</a></div>
              </div>
            </div>
            <div class="resource-card" tabindex="0">
              <h4 class="resource-title">National Suicide Prevention Lifeline</h4>
              <p class="resource-description">24/7 confidential support for people in distress.</p>
              <div class="contact-info">
                <div class="contact-method"><span class="icon">📞</span> <a href="tel:18002738255" class="phone-number">1-800-273-8255</a></div>
                <div class="contact-method"><span class="icon">🌐</span> <a href="https://suicidepreventionlifeline.org" target="_blank" rel="noopener" class="website">suicidepreventionlifeline.org</a></div>
              </div>
            </div>
            <div class="resource-card" tabindex="0">
              <h4 class="resource-title">National Sexual Assault Hotline</h4>
              <p class="resource-description">24/7 confidential support for survivors of sexual assault.</p>
              <div class="contact-info">
                <div class="contact-method"><span class="icon">📞</span> <a href="tel:18006564673" class="phone-number">1-800-656-4673</a></div>
                <div class="contact-method"><span class="icon">🌐</span> <a href="https://rainn.org" target="_blank" rel="noopener" class="website">rainn.org</a></div>
              </div>
            </div>
            <div class="resource-card" tabindex="0">
              <h4 class="resource-title">Trans Lifeline</h4>
              <p class="resource-description">Peer support hotline for transgender people in crisis.</p>
              <div class="contact-info">
                <div class="contact-method"><span class="icon">📞</span> <a href="tel:8775658860" class="phone-number">877-565-8860</a></div>
                <div class="contact-method"><span class="icon">🌐</span> <a href="https://translifeline.org" target="_blank" rel="noopener" class="website">translifeline.org</a></div>
              </div>
            </div>
          </div>
        </article>

      </div>
    </section>

    <!-- Crisis Support Tips -->
    <section id="tips" class="tips-section" aria-label="Crisis Support Tips">
      <h2 class="tips-title">💡 Crisis Support Tips</h2>
      <div class="tips-grid">
        <div class="tip-card" tabindex="0">
          <h3 class="tip-title">If You're in Crisis</h3>
          <p>• Reach out immediately - don't wait<br>
             • Stay with trusted friends or family<br>
             • Remove means of self-harm<br>
             • Go to the nearest emergency room if needed</p>
        </div>
        <div class="tip-card" tabindex="0">
          <h3 class="tip-title">Supporting Someone Else</h3>
          <p>• Listen without judgment<br>
             • Take all threats seriously<br>
             • Don't leave them alone<br>
             • Help them connect with professional support</p>
        </div>
        <div class="tip-card" tabindex="0">
          <h3 class="tip-title">Self-Care Strategies</h3>
          <p>• Practice deep breathing<br>
             • Stay connected with support systems<br>
             • Maintain routines when possible<br>
             • Seek professional help early</p>
        </div>
      </div>
    </section>

    <!-- Buttons to open modals -->
    <div style="margin-top: 40px; text-align:center;">
      <button class="primary-btn" onclick="openModal('safety-plan-modal')">📝 Fill Your Safety Plan</button>
      <button class="primary-btn" onclick="openModal('crisis-checklist-modal')">📋 View Crisis Checklist</button>
    </div>
  </section>

  <!-- French Content -->
  <section id="fr-content" class="language-content hidden" lang="fr">
    <header class="header">
      <h1>🆘 Trousse d'aide en situation de crise</h1>
      <p class="subtitle">Aide immédiate et ressources pour le Canada et les États-Unis</p>
      <p><strong>Vous n'êtes pas seul(e). De l'aide est disponible 24h/24, 7j/7.</strong></p>
    </header>

    <section class="emergency-banner" aria-label="Numéros d'urgence">
      <h2>🚨 NUMÉROS D'URGENCE</h2>
      <p><strong>Si vous êtes en danger immédiat, appelez :</strong></p>
      <div class="emergency-numbers">
        <div class="emergency-number" tabindex="0">
          <span class="number">911</span>
          <span>Urgence Canada et États-Unis</span>
        </div>
        <div class="emergency-number" tabindex="0">
          <span class="number">988</span>
          <span>Ligne de crise suicide (É.-U.)</span>
        </div>
        <div class="emergency-number" tabindex="0">
          <span class="number">1-833-456-4566</span>
          <span>Parlons suicide Canada</span>
        </div>
      </div>
    </section>

    <!-- Ressources d'aide -->
    <section id="fr-resources" class="content-section" aria-labelledby="fr-resources-title">
      <h2 id="fr-resources-title" class="section-title" role="button" aria-expanded="true" tabindex="0" onclick="toggleSection('fr-resources-list')">
        <span class="icon">📚</span> Ressources d'aide en crise
      </h2>
      <div id="fr-resources-list">

        <article id="fr-canada-resources" class="country-section" aria-labelledby="fr-canada-title">
          <h3 id="fr-canada-title" class="section-title" role="button" aria-expanded="true" tabindex="0" onclick="toggleSection('fr-canada-list')">
            <span class="icon">🇨🇦</span> CANADA
          </h3>
          <div id="fr-canada-list" class="resource-grid">
            <div class="resource-card" tabindex="0">
              <h4 class="resource-title">Parlons suicide Canada</h4>
              <p class="resource-description">Soutien bilingue 24h/24 pour toute personne ayant des pensées suicidaires ou préoccupée par quelqu'un d'autre.</p>
              <div class="contact-info">
                <div class="contact-method"><span class="icon">📞</span> <a href="tel:18334564566" class="phone-number">1-833-456-4566</a></div>
                <div class="contact-method"><span class="icon">💬</span> Texto : 45645</div>
                <div class="contact-method"><span class="icon">🌐</span> <a href="https://parlonssuicide.ca" target="_blank" rel="noopener" class="website">parlonssuicide.ca</a></div>
              </div>
            </div>
            <div class="resource-card" tabindex="0">
              <h4 class="resource-title">Jeunesse, J'écoute</h4>
              <p class="resource-description">Soutien 24h/24 pour les jeunes. Counseling professionnel, information et références.</p>
              <div class="contact-info">
                <div class="contact-method"><span class="icon">📞</span> <a href="tel:18006686868" class="phone-number">1-800-668-6868</a></div>
                <div class="contact-method"><span class="icon">💬</span> Texto : PARLER au 686868</div>
                <div class="contact-method"><span class="icon">🌐</span> <a href="https://jeunessejecoute.ca" target="_blank" rel="noopener" class="website">jeunessejecoute.ca</a></div>
              </div>
            </div>
            <div class="resource-card" tabindex="0">
              <h4 class="resource-title">Services de crise du Canada</h4>
              <p class="resource-description">Service national 24h/24 offrant du soutien aux personnes touchées par le suicide.</p>
              <div class="contact-info">
                <div class="contact-method"><span class="icon">📞</span> <a href="tel:18334564566" class="phone-number">1-833-456-4566</a></div>
                <div class="contact-method"><span class="icon">🌐</span> <a href="https://crisisservicescanada.ca" target="_blank" rel="noopener" class="website">crisisservicescanada.ca</a></div>
              </div>
            </div>
            <div class="resource-card" tabindex="0">
              <h4 class="resource-title">Service canadien de prévention du suicide</h4>
              <p class="resource-description">Soutien gratuit et confidentiel pour les personnes en détresse et leur entourage.</p>
              <div class="contact-info">
                <div class="contact-method"><span class="icon">📞</span> <a href="tel:18334564566" class="phone-number">1-833-456-4566</a></div>
                <div class="contact-method"><span class="icon">💬</span> Texto : 45645</div>
              </div>
            </div>
            <div class="resource-card" tabindex="0">
              <h4 class="resource-title">Commission de la santé mentale du Canada</h4>
              <p class="resource-description">Ressources et informations sur les services de santé mentale à travers le Canada.</p>
              <div class="contact-info">
                <div class="contact-method"><span class="icon">🌐</span> <a href="https://commissionsantementale.ca" target="_blank" rel="noopener" class="website">commissionsantementale.ca</a></div>
              </div>
            </div>
            <div class="resource-card" tabindex="0">
              <h4 class="resource-title">Association canadienne pour la santé mentale</h4>
              <p class="resource-description">Services et soutien locaux en santé mentale à travers le Canada.</p>
              <div class="contact-info">
                <div class="contact-method"><span class="icon">🌐</span> <a href="https://acsm.ca" target="_blank" rel="noopener" class="website">acsm.ca</a></div>
              </div>
            </div>
          </div>
        </article>

        <article id="fr-us-resources" class="country-section" aria-labelledby="fr-us-title">
          <h3 id="fr-us-title" class="section-title" role="button" aria-expanded="true" tabindex="0" onclick="toggleSection('fr-us-list')">
            <span class="icon">🇺🇸</span> ÉTATS-UNIS
          </h3>
          <div id="fr-us-list" class="resource-grid">
            <div class="resource-card" tabindex="0">
              <h4 class="resource-title">988 Ligne de vie suicide et crise</h4>
              <p class="resource-description">Soutien gratuit et confidentiel 24h/24 pour les personnes en détresse et leurs proches.</p>
              <div class="contact-info">
                <div class="contact-method"><span class="icon">📞</span> <a href="tel:988" class="phone-number">988</a></div>
                <div class="contact-method"><span class="icon">💬</span> Texto : 988</div>
                <div class="contact-method"><span class="icon">💻</span> Chat : <a href="https://988lifeline.org" target="_blank" rel="noopener" class="website">988lifeline.org</a></div>
                <div class="contact-method"><span class="icon">🌐</span> <a href="https://988lifeline.org" target="_blank" rel="noopener" class="website">988lifeline.org</a></div>
              </div>
            </div>
            <div class="resource-card" tabindex="0">
              <h4 class="resource-title">Ligne de crise par texto</h4>
              <p class="resource-description">Soutien de crise par texto 24h/24.</p>
              <div class="contact-info">
                <div class="contact-method"><span class="icon">💬</span> Texto ACCUEIL au 741741</div>
                <div class="contact-method"><span class="icon">🌐</span> <a href="https://www.crisistextline.org" target="_blank" rel="noopener" class="website">crisistextline.org</a></div>
              </div>
            </div>
            <div class="resource-card" tabindex="0">
              <h4 class="resource-title">Ligne nationale de prévention du suicide</h4>
              <p class="resource-description">Soutien confidentiel 24h/24 pour les personnes en détresse.</p>
              <div class="contact-info">
                <div class="contact-method"><span class="icon">📞</span> <a href="tel:18002738255" class="phone-number">1-800-273-8255</a></div>
                <div class="contact-method"><span class="icon">🌐</span> <a href="https://suicidepreventionlifeline.org" target="_blank" rel="noopener" class="website">suicidepreventionlifeline.org</a></div>
              </div>
            </div>
            <div class="resource-card" tabindex="0">
              <h4 class="resource-title">Ligne d'assistance nationale pour les victimes d'agression sexuelle</h4>
              <p class="resource-description">Soutien confidentiel 24h/24 pour les survivants d'agressions sexuelles.</p>
              <div class="contact-info">
                <div class="contact-method"><span class="icon">📞</span> <a href="tel:18006564673" class="phone-number">1-800-656-4673</a></div>
                <div class="contact-method"><span class="icon">🌐</span> <a href="https://rainn.org" target="_blank" rel="noopener" class="website">rainn.org</a></div>
              </div>
            </div>
            <div class="resource-card" tabindex="0">
              <h4 class="resource-title">Trans Lifeline</h4>
              <p class="resource-description">Ligne d'assistance par les pairs pour les personnes transgenres en crise.</p>
              <div class="contact-info">
                <div class="contact-method"><span class="icon">📞</span> <a href="tel:8775658860" class="phone-number">877-565-8860</a></div>
                <div class="contact-method"><span class="icon">🌐</span> <a href="https://translifeline.org" target="_blank" rel="noopener" class="website">translifeline.org</a></div>
              </div>
            </div>
          </div>
        </article>

      </div>
    </section>

    <!-- Conseils en situation de crise -->
    <section id="fr-tips" class="tips-section" aria-label="Conseils en situation de crise">
      <h2 class="tips-title">💡 Conseils en situation de crise</h2>
      <div class="tips-grid">
        <div class="tip-card" tabindex="0">
          <h3 class="tip-title">Si vous êtes en crise</h3>
          <p>• Demandez de l’aide immédiatement - n’attendez pas<br>
             • Restez avec des amis ou de la famille en qui vous avez confiance<br>
             • Éloignez-vous des moyens d’automutilation<br>
             • Rendez-vous au service d’urgence le plus proche si nécessaire</p>
        </div>
        <div class="tip-card" tabindex="0">
          <h3 class="tip-title">Soutenir quelqu’un d’autre</h3>
          <p>• Écoutez sans juger<br>
             • Prenez toutes les menaces au sérieux<br>
             • Ne les laissez pas seuls<br>
             • Aidez-les à se connecter avec un soutien professionnel</p>
        </div>
        <div class="tip-card" tabindex="0">
          <h3 class="tip-title">Stratégies d’auto-soin</h3>
          <p>• Pratiquez la respiration profonde<br>
             • Restez connecté aux systèmes de soutien<br>
             • Maintenez des routines lorsque possible<br>
             • Cherchez de l’aide professionnelle tôt</p>
        </div>
      </div>
    </section>

    <!-- Boutons pour ouvrir modals -->
    <div style="margin-top: 40px; text-align:center;">
      <button class="primary-btn" onclick="openModal('fr-safety-plan-modal')">📝 Remplir votre plan de sécurité</button>
      <button class="primary-btn" onclick="openModal('fr-crisis-checklist-modal')">📋 Voir la liste de contrôle en cas de crise</button>
    </div>
  </section>

</div>

<!-- Scroll to sections buttons -->
<div class="scroll-buttons" aria-label="Scroll to sections">
  <button onclick="scrollToSection('resources')" aria-label="Scroll to crisis resources">Resources</button>
  <button onclick="scrollToSection('tips')" aria-label="Scroll to crisis tips">Tips</button>
  <button onclick="scrollToSection('safety-plan-modal')" aria-label="Open safety plan modal">Safety Plan</button>
  <button onclick="scrollToSection('crisis-checklist-modal')" aria-label="Open crisis checklist modal">Checklist</button>
</div>

<!-- Safety Plan Modal EN -->
<div class="modal-bg" id="safety-plan-modal" role="dialog" aria-modal="true" aria-labelledby="safety-plan-title" tabindex="-1">
  <div class="modal-content">
    <header class="modal-header">
      <h2 id="safety-plan-title">📝 Personalized Safety Plan</h2>
      <button class="modal-close" aria-label="Close safety plan modal" onclick="closeModal('safety-plan-modal')">&times;</button>
    </header>
    <form id="safety-plan-form" autocomplete="off">
      <label for="warning-signs">1. Warning Signs (thoughts, feelings, behaviors):</label>
      <textarea id="warning-signs" name="warningSigns" placeholder="E.g. Feeling hopeless, isolating myself..." required></textarea>

      <label for="internal-coping">2. Internal Coping Strategies (things I can do on my own):</label>
      <textarea id="internal-coping" name="internalCoping" placeholder="E.g. Deep breathing, listening to music..." required></textarea>

      <label for="social-support">3. Social Support (people or places I can go to):</label>
      <textarea id="social-support" name="socialSupport" placeholder="E.g. Friend, counselor, crisis hotline..." required></textarea>

      <label for="professional-support">4. Professional Support Contacts:</label>
      <textarea id="professional-support" name="professionalSupport" placeholder="E.g. Therapist, doctor, emergency services..." required></textarea>

      <label for="safe-environment">5. Safe Environment Strategies (how to make my environment safe):</label>
      <textarea id="safe-environment" name="safeEnvironment" placeholder="E.g. Removing harmful objects, staying in public places..." required></textarea>

      <label for="reasons-to-live">6. Reasons to Live (motivations and hopes):</label>
      <textarea id="reasons-to-live" name="reasonsToLive" placeholder="E.g. Family, pets, goals, dreams..." required></textarea>

      <div class="btn-group">
        <button type="button" class="primary-btn pdf-btn" onclick="generatePDF()">Download PDF</button>
        <button type="button" class="primary-btn print-btn" onclick="printSafetyPlan()">Print</button>
        <button type="submit" class="primary-btn">Save</button>
      </div>
    </form>
  </div>
</div>

<!-- Crisis Checklist Modal EN -->
<div class="modal-bg" id="crisis-checklist-modal" role="dialog" aria-modal="true" aria-labelledby="crisis-checklist-title" tabindex="-1">
  <div class="modal-content">
    <header class="modal-header">
      <h2 id="crisis-checklist-title">📋 Crisis Checklist</h2>
      <button class="modal-close" aria-label="Close crisis checklist modal" onclick="closeModal('crisis-checklist-modal')">&times;</button>
    </header>
    <ul style="line-height:1.7; color:#34495e;">
      <li>Recognize warning signs early.</li>
      <li>Use internal coping strategies to distract yourself.</li>
      <li>Reach out to friends, family, or support groups.</li>
      <li>Contact professional help or crisis hotlines.</li>
      <li>Remove access to means of self-harm.</li>
      <li>Stay in safe and public places when possible.</li>
      <li>Have emergency contacts and numbers accessible.</li>
      <li>Make a plan for what to do if crisis escalates.</li>
      <li>Practice self-care and grounding techniques daily.</li>
    </ul>
    <div class="btn-group" style="margin-top:20px; text-align:right;">
      <button class="primary-btn print-btn" onclick="printChecklist()">Print Checklist</button>
    </div>
  </div>
</div>

<!-- Safety Plan Modal FR -->
<div class="modal-bg" id="fr-safety-plan-modal" role="dialog" aria-modal="true" aria-labelledby="fr-safety-plan-title" tabindex="-1">
  <div class="modal-content">
    <header class="modal-header">
      <h2 id="fr-safety-plan-title">📝 Plan de sécurité personnalisé</h2>
      <button class="modal-close" aria-label="Fermer le plan de sécurité" onclick="closeModal('fr-safety-plan-modal')">&times;</button>
    </header>
    <form id="fr-safety-plan-form" autocomplete="off">
      <label for="fr-warning-signs">1. Signes avant-coureurs (pensées, sentiments, comportements) :</label>
      <textarea id="fr-warning-signs" name="warningSigns" placeholder="Ex : Sentiment de désespoir, isolement..." required></textarea>

      <label for="fr-internal-coping">2. Stratégies internes d’adaptation (ce que je peux faire seul(e)) :</label>
      <textarea id="fr-internal-coping" name="internalCoping" placeholder="Ex : Respiration profonde, écouter de la musique..." required></textarea>

      <label for="fr-social-support">3. Soutien social (personnes ou lieux vers qui je peux me tourner) :</label>
      <textarea id="fr-social-support" name="socialSupport" placeholder="Ex : Ami, conseiller, ligne d’urgence..." required></textarea>

      <label for="fr-professional-support">4. Contacts professionnels :</label>
      <textarea id="fr-professional-support" name="professionalSupport" placeholder="Ex : Thérapeute, médecin, services d’urgence..." required></textarea>

      <label for="fr-safe-environment">5. Stratégies pour un environnement sécuritaire :</label>
      <textarea id="fr-safe-environment" name="safeEnvironment" placeholder="Ex : Retirer les objets dangereux, rester en lieux publics..." required></textarea>

      <label for="fr-reasons-to-live">6. Raisons de vivre (motivations et espoirs) :</label>
      <textarea id="fr-reasons-to-live" name="reasonsToLive" placeholder="Ex : Famille, animaux, objectifs, rêves..." required></textarea>

      <div class="btn-group">
        <button type="button" class="primary-btn pdf-btn" onclick="generatePDF(true)">Télécharger le PDF</button>
        <button type="button" class="primary-btn print-btn" onclick="printSafetyPlan(true)">Imprimer</button>
        <button type="submit" class="primary-btn">Enregistrer</button>
      </div>
    </form>
  </div>
</div>

<!-- Crisis Checklist Modal FR -->
<div class="modal-bg" id="fr-crisis-checklist-modal" role="dialog" aria-modal="true" aria-labelledby="fr-crisis-checklist-title" tabindex="-1">
  <div class="modal-content">
    <header class="modal-header">
      <h2 id="fr-crisis-checklist-title">📋 Liste de contrôle en cas de crise</h2>
      <button class="modal-close" aria-label="Fermer la liste de contrôle" onclick="closeModal('fr-crisis-checklist-modal')">&times;</button>
    </header>
    <ul style="line-height:1.7; color:#34495e;">
      <li>Reconnaître les signes avant-coureurs tôt.</li>
      <li>Utiliser des stratégies internes pour se distraire.</li>
      <li>Contacter amis, famille ou groupes de soutien.</li>
      <li>Appeler à l’aide professionnelle ou lignes d’urgence.</li>
      <li>Éloigner les moyens d’automutilation.</li>
      <li>Rester dans des lieux sécuritaires et publics si possible.</li>
      <li>Avoir des contacts d’urgence accessibles.</li>
      <li>Établir un plan si la crise s’aggrave.</li>
      <li>Pratiquer des techniques d’auto-soin quotidiennement.</li>
    </ul>
    <div class="btn-group" style="margin-top:20px; text-align:right;">
      <button class="primary-btn print-btn" onclick="printChecklist(true)">Imprimer la liste</button>
    </div>
  </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script>
  const { jsPDF } = window.jspdf;

  // Show/Hide Language Content
  function showLanguage(lang) {
    document.querySelectorAll('.language-content').forEach(el => {
      el.classList.add('hidden');
      el.setAttribute('aria-hidden', 'true');
    });
    const activeContent = document.getElementById(lang + '-content');
    activeContent.classList.remove('hidden');
    activeContent.setAttribute('aria-hidden', 'false');

    // Update buttons ARIA and active class
    document.querySelectorAll('.lang-btn').forEach(btn => {
      btn.classList.remove('active');
      btn.setAttribute('aria-pressed', 'false');
    });
    document.getElementById(lang + '-btn').classList.add('active');
    document.getElementById(lang + '-btn').setAttribute('aria-pressed', 'true');
  }

  // Modal open/close functions
  function openModal(id) {
    const modal = document.getElementById(id);
    modal.classList.add('active');
    modal.focus();
  }
  function closeModal(id) {
    const modal = document.getElementById(id);
    modal.classList.remove('active');
  }

  // Close modal on background click
  document.querySelectorAll('.modal-bg').forEach(modal => {
    modal.addEventListener('click', e => {
      if(e.target === modal) {
        modal.classList.remove('active');
      }
    });
  });

  // Toggle collapsible sections
  function toggleSection(id) {
    const el = document.getElementById(id);
    if (!el) return;
    if(el.style.display === 'none' || getComputedStyle(el).display === 'none') {
      el.style.display = 'block';
    } else {
      el.style.display = 'none';
    }
  }

  // Scroll to section function
  function scrollToSection(id) {
    if(id.endsWith('-modal')) {
      openModal(id);
      return;
    }
    const el = document.getElementById(id);
    if(el) {
      el.scrollIntoView({behavior:'smooth', block:'start'});
    }
  }

  // Save safety plan to localStorage
  function saveSafetyPlan(form, lang) {
    const data = {};
    for(const element of form.elements){
      if(element.name){
        data[element.name] = element.value.trim();
      }
    }
    localStorage.setItem(lang + '_safetyPlan', JSON.stringify(data));
    alert(lang === 'fr' ? 'Plan de sécurité sauvegardé.' : 'Safety plan saved.');
  }

  // Load safety plan from localStorage
  function loadSafetyPlan(form, lang) {
    const saved = localStorage.getItem(lang + '_safetyPlan');
    if(saved){
      const data = JSON.parse(saved);
      for(const element of form.elements){
        if(element.name && data[element.name]){
          element.value = data[element.name];
        }
      }
    }
  }

  // Event listeners for form save buttons
  document.getElementById('safety-plan-form').addEventListener('submit', e => {
    e.preventDefault();
    saveSafetyPlan(e.target, 'en');
  });
  document.getElementById('fr-safety-plan-form').addEventListener('submit', e => {
    e.preventDefault();
    saveSafetyPlan(e.target, 'fr');
  });

  // Load saved plans on modal open
  document.getElementById('safety-plan-modal').addEventListener('transitionend', e => {
    if(e.target.classList.contains('active')){
      loadSafetyPlan(document.getElementById('safety-plan-form'), 'en');
    }
  });
  document.getElementById('fr-safety-plan-modal').addEventListener('transitionend', e => {
    if(e.target.classList.contains('active')){
      loadSafetyPlan(document.getElementById('fr-safety-plan-form'), 'fr');
    }
  });

  // Generate PDF from form inputs
  function generatePDF(isFrench=false) {
    const form = isFrench ? document.getElementById('fr-safety-plan-form') : document.getElementById('safety-plan-form');
    const data = {};
    for(const element of form.elements){
      if(element.name){
        data[element.name] = element.value.trim() || '[Not filled]';
      }
    }

    const doc = new jsPDF();
    const margin = 15;
    const lineHeight = 10;
    let y = margin;

    const title = isFrench ? "Plan de sécurité personnalisé" : "Personalized Safety Plan";
    const labels = isFrench
      ? [
        "1. Signes avant-coureurs:",
        "2. Stratégies internes d’adaptation:",
        "3. Soutien social:",
        "4. Contacts professionnels:",
        "5. Stratégies pour un environnement sécuritaire:",
        "6. Raisons de vivre:"
      ]
      : [
        "1. Warning Signs:",
        "2. Internal Coping Strategies:",
        "3. Social Support:",
        "4. Professional Support Contacts:",
        "5. Safe Environment Strategies:",
        "6. Reasons to Live:"
      ];

    doc.setFontSize(20);
    doc.text(title, margin, y);
    y += lineHeight * 2;

    doc.setFontSize(12);
    const fields = ['warningSigns', 'internalCoping', 'socialSupport', 'professionalSupport', 'safeEnvironment', 'reasonsToLive'];

    for(let i = 0; i < fields.length; i++) {
      doc.setFont(undefined, 'bold');
      doc.text(labels[i], margin, y);
      y += lineHeight;

      doc.setFont(undefined, 'normal');
      let text = data[fields[i]] || '[Not filled]';
      // Split long text into lines to fit page width
      const splitText = doc.splitTextToSize(text, 180);
      doc.text(splitText, margin, y);
      y += lineHeight * splitText.length + 5;

      if(y > 270) {
        doc.addPage();
        y = margin;
      }
    }

    doc.save(isFrench ? 'plan_de_securite.pdf' : 'safety_plan.pdf');
  }

  // Print Safety Plan
  function printSafetyPlan(isFrench=false) {
    const form = isFrench ? document.getElementById('fr-safety-plan-form') : document.getElementById('safety-plan-form');
    const data = {};
    for(const element of form.elements){
      if(element.name){
        data[element.name] = element.value.trim() || '[Not filled]';
      }
    }

    let printWindow = window.open('', '', 'width=600,height=800');
    printWindow.document.write('<html><head><title>' + (isFrench ? 'Plan de sécurité' : 'Safety Plan') + '</title>');
    printWindow.document.write('<style>body{font-family:sans-serif; margin:20px;} h2{color:#34495e;} p{white-space:pre-wrap;}</style></head><body>');
    printWindow.document.write('<h2>' + (isFrench ? 'Plan de sécurité personnalisé' : 'Personalized Safety Plan') + '</h2>');

    const labels = isFrench
      ? [
        "1. Signes avant-coureurs:",
        "2. Stratégies internes d’adaptation:",
        "3. Soutien social:",
        "4. Contacts professionnels:",
        "5. Stratégies pour un environnement sécuritaire:",
        "6. Raisons de vivre:"
      ]
      : [
        "1. Warning Signs:",
        "2. Internal Coping Strategies:",
        "3. Social Support:",
        "4. Professional Support Contacts:",
        "5. Safe Environment Strategies:",
        "6. Reasons to Live:"
      ];

    const fields = ['warningSigns', 'internalCoping', 'socialSupport', 'professionalSupport', 'safeEnvironment', 'reasonsToLive'];
    for(let i=0; i<fields.length; i++) {
      printWindow.document.write('<h3>' + labels[i] + '</h3>');
      printWindow.document.write('<p>' + (data[fields[i]] || '[Not filled]') + '</p>');
    }
    printWindow.document.write('</body></html>');
    printWindow.document.close();
    printWindow.focus();
    printWindow.print();
  }

  // Print checklist
  function printChecklist(isFrench=false) {
    let checklist = isFrench
      ? [
        "Reconnaître les signes avant-coureurs tôt.",
        "Utiliser des stratégies internes pour se distraire.",
        "Contacter amis, famille ou groupes de soutien.",
        "Appeler à l’aide professionnelle ou lignes d’urgence.",
        "Éloigner les moyens d’automutilation.",
        "Rester dans des lieux sécuritaires et publics si possible.",
        "Avoir des contacts d’urgence accessibles.",
        "Établir un plan si la crise s’aggrave.",
        "Pratiquer des techniques d’auto-soin quotidiennement."
      ]
      : [
        "Recognize warning signs early.",
        "Use internal coping strategies to distract yourself.",
        "Reach out to friends, family, or support groups.",
        "Contact professional help or crisis hotlines.",
        "Remove access to means of self-harm.",
        "Stay in safe and public places when possible.",
        "Have emergency contacts and numbers accessible.",
        "Make a plan for what to do if crisis escalates.",
        "Practice self-care and grounding techniques daily."
      ];

    let printWindow = window.open('', '', 'width=600,height=600');
    printWindow.document.write('<html><head><title>' + (isFrench ? 'Liste de contrôle en cas de crise' : 'Crisis Checklist') + '</title>');
    printWindow.document.write('<style>body{font-family:sans-serif; margin:20px;} ul{line-height:1.7; color:#34495e;}</style></head><body>');
    printWindow.document.write('<h2>' + (isFrench ? 'Liste de contrôle en cas de crise' : 'Crisis Checklist') + '</h2>');
    printWindow.document.write('<ul>');
    checklist.forEach(item => {
      printWindow.document.write('<li>' + item + '</li>');
    });
    printWindow.document.write('</ul>');
    printWindow.document.write('</body></html>');
    printWindow.document.close();
    printWindow.focus();
    printWindow.print();
  }

  // Accessibility: trap focus inside modal
  document.querySelectorAll('.modal-bg').forEach(modal => {
    modal.addEventListener('keydown', e => {
      if(e.key === 'Tab') {
        const focusableElements = modal.querySelectorAll('a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex="-1"])');
        const firstElement = focusableElements[0];
        const lastElement = focusableElements[focusableElements.length - 1];
        if(e.shiftKey) {
          if(document.activeElement === firstElement) {
            e.preventDefault();
            lastElement.focus();
          }
        } else {
          if(document.activeElement === lastElement) {
            e.preventDefault();
            firstElement.focus();
          }
        }
      }
      if(e.key === 'Escape') {
        modal.classList.remove('active');
      }
    });
  });

  // On page load, default language English
  document.addEventListener('DOMContentLoaded', () => {
    showLanguage('en');
  });
</script>

</body>
</html>