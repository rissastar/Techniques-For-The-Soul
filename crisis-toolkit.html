<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Crisis Support Toolkit with Modals</title>
<style>
  /* Reset and base */
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    margin: 0; padding: 0;
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: #f1f1f1;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  h1, h2, h3 {
    margin: 0.5rem 0;
  }

  a {
    color: #a3cdfd;
    text-decoration: underline;
  }
  a:hover,
  a:focus {
    text-decoration: none;
    outline: 2px solid #a3cdfd;
    outline-offset: 2px;
  }

  /* Container */
  #app {
    max-width: 900px;
    width: 95%;
    padding: 1rem;
  }

  /* Header & Language toggle */
  header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
  }

  .language-toggle {
    display: flex;
    gap: 0.5rem;
  }
  .language-toggle button {
    background: transparent;
    border: 2px solid #a3cdfd;
    color: #a3cdfd;
    padding: 0.3rem 0.7rem;
    cursor: pointer;
    border-radius: 4px;
    font-weight: 600;
    transition: background 0.3s, color 0.3s;
  }
  .language-toggle button.active,
  .language-toggle button:hover,
  .language-toggle button:focus {
    background: #a3cdfd;
    color: #2c3e50;
    outline: none;
  }

  /* Modal buttons */
  .modal-open-btns {
    margin: 1rem 0 2rem;
    display: flex;
    gap: 1rem;
    justify-content: center;
    flex-wrap: wrap;
  }
  .modal-open-btns button {
    background-color: #2980b9;
    border: none;
    color: white;
    padding: 0.7rem 1.4rem;
    border-radius: 6px;
    cursor: pointer;
    font-size: 1rem;
    font-weight: 600;
    box-shadow: 0 4px 6px rgba(0,0,0,0.3);
    transition: background-color 0.3s ease;
  }
  .modal-open-btns button:hover,
  .modal-open-btns button:focus {
    background-color: #1b4f72;
    outline: none;
  }

  /* Modal overlay */
  .modal-overlay {
    position: fixed;
    top: 0; left: 0; right:0; bottom: 0;
    background: rgba(0,0,0,0.75);
    display: none;
    align-items: center;
    justify-content: center;
    padding: 1rem;
    z-index: 9999;
  }
  .modal-overlay.active {
    display: flex;
  }

  /* Modal content */
  .modal-content {
    background: #2c3e50;
    max-width: 800px;
    max-height: 90vh;
    overflow-y: auto;
    border-radius: 8px;
    padding: 1.5rem 2rem;
    position: relative;
    box-shadow: 0 10px 25px rgba(0,0,0,0.5);
    color: #f1f1f1;
  }

  /* Close button */
  .modal-close-btn {
    position: absolute;
    top: 12px;
    right: 12px;
    background: transparent;
    border: none;
    font-size: 1.6rem;
    color: #f1f1f1;
    cursor: pointer;
  }
  .modal-close-btn:hover,
  .modal-close-btn:focus {
    color: #a3cdfd;
    outline: none;
  }

  /* Scrollbar for modal */
  .modal-content::-webkit-scrollbar {
    width: 8px;
  }
  .modal-content::-webkit-scrollbar-thumb {
    background-color: #2980b9;
    border-radius: 4px;
  }

  /* Resource grid */
  .resource-grid, .tips-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit,minmax(280px,1fr));
    gap: 1rem;
  }

  .resource-card, .tip-card {
    background: #34495e;
    border-radius: 6px;
    padding: 1rem;
    box-shadow: 0 3px 7px rgba(0,0,0,0.4);
  }

  .resource-title, .tip-title {
    margin-bottom: 0.5rem;
    color: #a3cdfd;
  }

  .contact-info {
    margin-top: 0.8rem;
  }
  .contact-method {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-top: 0.3rem;
    font-size: 0.9rem;
  }

  .contact-method .icon {
    font-size: 1.2rem;
  }

  /* Forms */
  form label {
    display: block;
    margin: 1rem 0 0.4rem;
  }
  textarea {
    width: 100%;
    min-height: 70px;
    border-radius: 5px;
    border: 1px solid #2980b9;
    padding: 0.5rem;
    font-family: inherit;
    font-size: 1rem;
    resize: vertical;
    background: #1c2833;
    color: #ecf0f1;
  }
  textarea::placeholder {
    color: #7f8c8d;
  }
  form button[type="submit"] {
    margin-top: 1rem;
    background-color: #2980b9;
    color: #f1f1f1;
    border: none;
    padding: 0.6rem 1.2rem;
    font-weight: 700;
    cursor: pointer;
    border-radius: 5px;
  }
  form button[type="submit"]:hover,
  form button[type="submit"]:focus {
    background-color: #1b4f72;
    outline: none;
  }

  /* Checklist */
  ul {
    list-style: none;
    padding-left: 0;
  }
  li {
    margin: 0.5rem 0;
  }
  label {
    cursor: pointer;
  }
  input[type="checkbox"] {
    transform: scale(1.2);
    margin-right: 0.6rem;
    cursor: pointer;
  }
  #print-checklist-btn,
  #print-checklist-btn-fr {
    margin-top: 1rem;
    background-color: #2980b9;
    color: #f1f1f1;
    border: none;
    padding: 0.6rem 1.2rem;
    font-weight: 700;
    cursor: pointer;
    border-radius: 5px;
  }
  #print-checklist-btn:hover,
  #print-checklist-btn-fr:hover,
  #print-checklist-btn:focus,
  #print-checklist-btn-fr:focus {
    background-color: #1b4f72;
    outline: none;
  }

  /* Breathing exercise */
  #breathing-exercise {
    position: fixed;
    bottom: 20px;
    left: 20px;
    text-align: center;
    user-select: none;
    color: #f1f1f1;
    font-weight: 600;
  }
  #breathing-exercise svg {
    display: block;
    margin: 0 auto 8px;
  }

  @keyframes expand {
    0% { r: 30; opacity: 0.4; }
    50% { r: 40; opacity: 0.8; }
    100% { r: 30; opacity: 0.4; }
  }

  /* Panic Exit */
  #panic-exit-btn {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background: #c0392b;
    color: white;
    border: none;
    padding: 0.6rem 1.2rem;
    border-radius: 6px;
    font-weight: 700;
    cursor: pointer;
    box-shadow: 0 4px 8px rgba(0,0,0,0.4);
  }
  #panic-exit-btn:hover,
  #panic-exit-btn:focus {
    background: #922b21;
    outline: none;
  }

  /* Hide sections initially */
  .language-content {
    margin-top: 1rem;
  }
  .hidden {
    display: none !important;
  }

  /* Responsive tweaks */
  @media (max-width: 600px) {
    .modal-content {
      padding: 1rem 1.2rem;
      max-width: 95vw;
      max-height: 85vh;
    }
  }
</style>
</head>
<body>

<div id="app">

  <header role="banner" aria-label="Page header">
    <h1>üÜò Crisis Support Toolkit</h1>
    <div class="language-toggle" role="group" aria-label="Language selection">
      <button id="en-btn" aria-pressed="true" class="active">English</button>
      <button id="fr-btn" aria-pressed="false">Fran√ßais</button>
    </div>
  </header>

  <nav class="modal-open-btns" aria-label="Open toolkit sections">
    <button id="open-resources-btn" aria-haspopup="dialog" aria-controls="modal-resources" aria-expanded="false">Resources</button>
    <button id="open-tips-btn" aria-haspopup="dialog" aria-controls="modal-tips" aria-expanded="false">Crisis Tips</button>
    <button id="open-plan-btn" aria-haspopup="dialog" aria-controls="modal-plan" aria-expanded="false">Safety Plan & Checklist</button>
  </nav>

  <!-- English Content -->
  <main id="en-content" class="language-content" lang="en">

    <p><strong>You are not alone. Help is available 24/7.</strong></p>

  </main>

  <!-- French Content -->
  <main id="fr-content" class="language-content hidden" lang="fr">

    <p><strong>Vous n'√™tes pas seul(e). De l'aide est disponible 24h/24, 7j/7.</strong></p>

  </main>
</div>

<!-- Modal: Resources -->
<div id="modal-resources" class="modal-overlay" role="dialog" aria-modal="true" aria-labelledby="modal-resources-title" tabindex="-1" aria-hidden="true">
  <div class="modal-content">
    <button class="modal-close-btn" aria-label="Close resources modal">&times;</button>
    <h2 id="modal-resources-title">üõ†Ô∏è Crisis Resources</h2>

    <section aria-label="United States Crisis Resources">
      <h3>üá∫üá∏ United States Resources</h3>
      <div class="resource-grid">
        <article class="resource-card" role="listitem" aria-labelledby="us1-title">
          <h4 id="us1-title" class="resource-title">988 Suicide & Crisis Lifeline</h4>
          <p class="resource-description">Free, confidential support 24/7 for people in distress and their loved ones.</p>
          <div class="contact-info">
            <div class="contact-method"><span class="icon">üìû</span><a href="tel:988" class="phone-number">988</a></div>
            <div class="contact-method"><span class="icon">üí¨</span>Text: 988</div>
            <div class="contact-method"><span class="icon">üíª</span>Chat: 988lifeline.org</div>
            <div class="contact-method"><span class="icon">üåê</span><a href="https://988lifeline.org" class="website" target="_blank" rel="noopener noreferrer">988lifeline.org</a></div>
          </div>
        </article>

        <article class="resource-card" role="listitem" aria-labelledby="us2-title">
          <h4 id="us2-title" class="resource-title">National Sexual Assault Hotline</h4>
          <p class="resource-description">24/7 confidential support for survivors of sexual assault.</p>
          <div class="contact-info">
            <div class="contact-method"><span class="icon">üìû</span><a href="tel:18006564673" class="phone-number">1-800-656-4673</a></div>
            <div class="contact-method"><span class="icon">üåê</span><a href="https://rainn.org" class="website" target="_blank" rel="noopener noreferrer">rainn.org</a></div>
          </div>
        </article>

        <article class="resource-card" role="listitem" aria-labelledby="us3-title">
          <h4 id="us3-title" class="resource-title">Trans Lifeline (USA)</h4>
          <p class="resource-description">Peer support hotline for transgender people in crisis (USA).</p>
          <div class="contact-info">
            <div class="contact-method"><span class="icon">üìû</span><a href="tel:8775658860" class="phone-number">877-565-8860</a></div>
            <div class="contact-method"><span class="icon">üåê</span><a href="https://translifeline.org" class="website" target="_blank" rel="noopener noreferrer">translifeline.org</a></div>
          </div>
        </article>
      </div>
    </section>

    <section aria-label="Canada Crisis Resources" style="margin-top:2rem;">
      <h3>üá®üá¶ Canada Resources</h3>
      <div class="resource-grid">
        <article class="resource-card" role="listitem" aria-labelledby="can1-title">
          <h4 id="can1-title" class="resource-title">Canada Suicide Prevention Service</h4>
          <p class="resource-description">Bilingual 24/7 support for anyone experiencing suicidal thoughts or concerned about someone else.</p>
          <div class="contact-info">
            <div class="contact-method"><span class="icon">üìû</span><a href="tel:18334564566" class="phone-number">1-833-456-4566</a></div>
            <div class="contact-method"><span class="icon">üí¨</span>Text: 45645</div>
            <div class="contact-method"><span class="icon">üåê</span><a href="https://crisisservicescanada.ca" class="website" target="_blank" rel="noopener noreferrer">crisisservicescanada.ca</a></div>
          </div>
        </article>

        <article class="resource-card" role="listitem" aria-labelledby="can2-title">
          <h4 id="can2-title" class="resource-title">Jeunesse, J‚Äô√©coute</h4>
          <p class="resource-description">24/7 support for youth. Professional counseling, info, and referrals.</p>
          <div class="contact-info">
            <div class="contact-method"><span class="icon">üìû</span><a href="tel:18006686868" class="phone-number">1-800-668-6868</a></div>
            <div class="contact-method"><span class="icon">üí¨</span>Text: PARLER to 686868</div>
            <div class="contact-method"><span class="icon">üåê</span><a href="https://jeunessejecoute.ca" class="website" target="_blank" rel="noopener noreferrer">jeunessejecoute.ca</a></div>
          </div>
        </article>

        <article class="resource-card" role="listitem" aria-labelledby="can3-title">
          <h4 id="can3-title" class="resource-title">Trans Lifeline Canada</h4>
          <p class="resource-description">Peer support hotline for transgender people in crisis (Canada).</p>
          <div class="contact-info">
            <div class="contact-method"><span class="icon">üìû</span><a href="tel:18773306366" class="phone-number">1-877-330-6366</a></div>
            <div class="contact-method"><span class="icon">üåê</span><a href="https://translifeline.org" class="website" target="_blank" rel="noopener noreferrer">translifeline.org</a></div>
          </div>
        </article>

        <article class="resource-card" role="listitem" aria-labelledby="can4-title">
          <h4 id="can4-title" class="resource-title">Canadian Mental Health Association</h4>
          <p class="resource-description">Local mental health support services throughout Canada.</p>
          <div class="contact-info">
            <div class="contact-method"><span class="icon">üåê</span><a href="https://cmha.ca" class="website" target="_blank" rel="noopener noreferrer">cmha.ca</a></div>
          </div>
        </article>
      </div>
    </section>

  </div>
</div>

<!-- Modal: Tips -->
<div id="modal-tips" class="modal-overlay" role="dialog" aria-modal="true" aria-labelledby="modal-tips-title" tabindex="-1" aria-hidden="true">
  <div class="modal-content">
    <button class="modal-close-btn" aria-label="Close tips modal">&times;</button>
    <h2 id="modal-tips-title">üí° Crisis Support Tips</h2>

    <div class="tips-grid" role="list">
      <article class="tip-card" role="listitem" aria-labelledby="tip1-title">
        <h3 id="tip1-title" class="tip-title">If You're in Crisis</h3>
        <p>
          ‚Ä¢ Reach out immediately - don't wait<br />
          ‚Ä¢ Stay with trusted friends or family<br />
          ‚Ä¢ Remove means of self-harm<br />
          ‚Ä¢ Go to the nearest emergency room if needed
        </p>
      </article>

      <article class="tip-card" role="listitem" aria-labelledby="tip2-title">
        <h3 id="tip2-title" class="tip-title">Supporting Someone Else</h3>
        <p>
          ‚Ä¢ Listen without judgment<br />
          ‚Ä¢ Take all threats seriously<br />
          ‚Ä¢ Don't leave them alone<br />
          ‚Ä¢ Help them connect with professional support
        </p>
      </article>

      <article class="tip-card" role="listitem" aria-labelledby="tip3-title">
        <h3 id="tip3-title" class="tip-title">Self-Care Strategies</h3>
        <p>
          ‚Ä¢ Practice deep breathing<br />
          ‚Ä¢ Stay connected with support systems<br />
          ‚Ä¢ Maintain routines when possible<br />
          ‚Ä¢ Seek professional help early
        </p>
      </article>
    </div>
  </div>
</div>

<!-- Modal: Safety Plan & Checklist -->
<div id="modal-plan" class="modal-overlay" role="dialog" aria-modal="true" aria-labelledby="modal-plan-title" tabindex="-1" aria-hidden="true">
  <div class="modal-content">
    <button class="modal-close-btn" aria-label="Close safety plan modal">&times;</button>
    <h2 id="modal-plan-title">üìù Safety Plan & Printable Checklist</h2>

    <section>
      <h3>Safety Plan</h3>
      <form id="safety-plan-form" aria-label="Safety plan form">
        <label for="warning-signs">Warning Signs</label>
        <textarea id="warning-signs" placeholder="Things that indicate you are in crisis..." required></textarea>

        <label for="coping-strategies">Coping Strategies</label>
        <textarea id="coping-strategies" placeholder="Things you can do to help yourself..." required></textarea>

        <label for="support-contacts">Support Contacts</label>
        <textarea id="support-contacts" placeholder="People or places you can reach out to..." required></textarea>

        <button type="submit">Download Safety Plan PDF</button>
      </form>
    </section>

    <hr style="margin: 1.5rem 0; border-color: #444;" />

    <section>
      <h3>Printable Crisis Checklist</h3>
      <div id="printable-checklist" role="list" aria-label="Crisis checklist">
        <ul>
          <li><label><input type="checkbox" /> Remove any items that could cause harm</label></li>
          <li><label><input type="checkbox" /> Reach out to a trusted person</label></li>
          <li><label><input type="checkbox" /> Avoid alcohol or drugs</label></li>
          <li><label><input type="checkbox" /> Practice deep breathing or relaxation</label></li>
          <li><label><input type="checkbox" /> Make a plan to stay safe</label></li>
          <li><label><input type="checkbox" /> Keep emergency numbers handy</label></li>
          <li><label><input type="checkbox" /> Call emergency services if needed</label></li>
        </ul>
      </div>
      <button id="print-checklist-btn">Print Checklist</button>
    </section>
  </div>
</div>

<!-- Breathing Exercise -->
<div id="breathing-exercise" aria-label="Guided breathing exercise" role="region">
  <svg width="100" height="100" viewBox="0 0 100 100" aria-hidden="true" focusable="false">
    <circle cx="50" cy="50" r="30" stroke="#a3cdfd" stroke-width="4" fill="none" />
    <circle cx="50" cy="50" r="30" stroke="#2980b9" stroke-width="4" fill="none" stroke-opacity="0.5" >
      <animate attributeName="r" values="30;40;30" dur="4s" repeatCount="indefinite"/>
      <animate attributeName="stroke-opacity" values="0.4;0.8;0.4" dur="4s" repeatCount="indefinite"/>
    </circle>
  </svg>
  <div id="breath-text" aria-live="polite" style="font-weight:700;">Breathe In...</div>
</div>

<!-- Panic Exit -->
<button id="panic-exit-btn" aria-label="Panic exit button">Panic Exit</button>

<!-- jsPDF CDN -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js" integrity="sha512-k+g59WlwAt3Ey48+H+xCwXkpqcXmmycp8NnQW9UYZj3l2nJ7DKl0vlSje2p8jxvnYvAHPv0r9+0QbQokG4NO2g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script>
(() => {
  const { jsPDF } = window.jspdf;

  // Language toggle
  const enBtn = document.getElementById('en-btn');
  const frBtn = document.getElementById('fr-btn');
  const enContent = document.getElementById('en-content');
  const frContent = document.getElementById('fr-content');

  function setLanguage(lang) {
    if (lang === 'en') {
      enContent.classList.remove('hidden');
      frContent.classList.add('hidden');
      enBtn.classList.add('active');
      enBtn.setAttribute('aria-pressed', 'true');
      frBtn.classList.remove('active');
      frBtn.setAttribute('aria-pressed', 'false');
    } else {
      frContent.classList.remove('hidden');
      enContent.classList.add('hidden');
      frBtn.classList.add('active');
      frBtn.setAttribute('aria-pressed', 'true');
      enBtn.classList.remove('active');
      enBtn.setAttribute('aria-pressed', 'false');
    }
  }
  enBtn.addEventListener('click', () => setLanguage('en'));
  frBtn.addEventListener('click', () => setLanguage('fr'));

  // Modal open/close logic with focus trap
  function trapFocus(element) {
    const focusableElementsString = 'a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex="0"], [contenteditable]';
    let focusableElements = element.querySelectorAll(focusableElementsString);
    focusableElements = Array.prototype.slice.call(focusableElements);

    const firstTabStop = focusableElements[0];
    const lastTabStop = focusableElements[focusableElements.length - 1];

    function keyListener(e) {
      if (e.key === 'Tab') {
        if (e.shiftKey) {
          if (document.activeElement === firstTabStop) {
            e.preventDefault();
            lastTabStop.focus();
          }
        } else {
          if (document.activeElement === lastTabStop) {
            e.preventDefault();
            firstTabStop.focus();
          }
        }
      }
      if (e.key === 'Escape') {
        closeModal(element);
      }
    }
    element.addEventListener('keydown', keyListener);
    return () => element.removeEventListener('keydown', keyListener);
  }

  const openResourcesBtn = document.getElementById('open-resources-btn');
  const openTipsBtn = document.getElementById('open-tips-btn');
  const openPlanBtn = document.getElementById('open-plan-btn');

  const modalResources = document.getElementById('modal-resources');
  const modalTips = document.getElementById('modal-tips');
  const modalPlan = document.getElementById('modal-plan');

  let removeTrapFocus = null;

  function openModal(modal, openerBtn) {
    modal.classList.add('active');
    modal.setAttribute('aria-hidden', 'false');
    openerBtn.setAttribute('aria-expanded', 'true');
    // Save last focused element for return focus
    lastFocusedElement = document.activeElement;
    // Focus modal
    const focusables = modal.querySelectorAll('button, a, textarea, input');
    if (focusables.length) focusables[0].focus();
    // Trap focus
    removeTrapFocus = trapFocus(modal);
  }

  function closeModal(modal) {
    modal.classList.remove('active');
    modal.setAttribute('aria-hidden', 'true');
    document.querySelectorAll('.modal-open-btns button').forEach(btn => btn.setAttribute('aria-expanded', 'false'));
    if (removeTrapFocus) removeTrapFocus();
    if (lastFocusedElement) lastFocusedElement.focus();
  }

  // Track last focused element before modal open
  let lastFocusedElement = null;

  // Open modal buttons
  openResourcesBtn.addEventListener('click', () => openModal(modalResources, openResourcesBtn));
  openTipsBtn.addEventListener('click', () => openModal(modalTips, openTipsBtn));
  openPlanBtn.addEventListener('click', () => openModal(modalPlan, openPlanBtn));

  // Close modal buttons
  document.querySelectorAll('.modal-close-btn').forEach(btn => {
    btn.addEventListener('click', e => {
      const modal = e.target.closest('.modal-overlay');
      closeModal(modal);
    });
  });

  // Close modal on click outside content
  document.querySelectorAll('.modal-overlay').forEach(modal => {
    modal.addEventListener('click', e => {
      if (e.target === modal) {
        closeModal(modal);
      }
    });
  });

  // Safety Plan PDF Generator EN
  const safetyForm = document.getElementById('safety-plan-form');
  safetyForm.addEventListener('submit', e => {
    e.preventDefault();
    const warningSigns = document.getElementById('warning-signs').value.trim();
    const copingStrategies = document.getElementById('coping-strategies').value.trim();
    const supportContacts = document.getElementById('support-contacts').value.trim();

    if (!warningSigns || !copingStrategies || !supportContacts) {
      alert('Please fill out all fields.');
      return;
    }

    const doc = new jsPDF();

    doc.setFontSize(18);
    doc.text('Safety Plan', 105, 20, null, null, 'center');
    doc.setFontSize(12);
    doc.text('Warning Signs:', 15, 40);
    doc.setFontSize(11);
    doc.text(warningSigns, 15, 48, { maxWidth: 180 });

    doc.setFontSize(12);
    doc.text('Coping Strategies:', 15, 75);
    doc.setFontSize(11);
    doc.text(copingStrategies, 15, 83, { maxWidth: 180 });

    doc.setFontSize(12);
    doc.text('Support Contacts:', 15, 110);
    doc.setFontSize(11);
    doc.text(supportContacts, 15, 118, { maxWidth: 180 });

    doc.save('Safety_Plan_EN.pdf');
  });

  // Print checklist button
  function printChecklist(sectionId) {
    const checklistSection = document.getElementById(sectionId);
    if (!checklistSection) return;

    const printWindow = window.open('', '', 'width=600,height=700');
    printWindow.document.write(`
      <html>
        <head>
          <title>Print Checklist</title>
          <style>
            body { font-family: Arial, sans-serif; padding: 1rem; background: white; color: black;}
            h2 { text-align: center; }
            ul { list-style: none; padding-left: 0; }
            li { margin-bottom: 1rem; font-size: 1.1rem; }
            label { cursor: pointer; }
          </style>
        </head>
        <body>
          ${checklistSection.innerHTML}
          <script>
            window.onload = function() { window.print(); window.close(); }
          </script>
        </body>
      </html>
    `);
    printWindow.document.close();
  }
  document.getElementById('print-checklist-btn').addEventListener('click', () => printChecklist('printable-checklist'));

  // Panic exit button
  const panicExitBtn = document.getElementById('panic-exit-btn');
  panicExitBtn.addEventListener('click', () => {
    window.location.href = 'https://www.google.com';
  });

  // Breathing text animation cycle
  const breathText = document.getElementById('breath-text');
  let breathCycle = 0;
  const breathStages = ['Breathe In...', 'Hold...', 'Breathe Out...', 'Hold...'];
  setInterval(() => {
    breathCycle = (breathCycle + 1) % breathStages.length;
    breathText.textContent = breathStages[breathCycle];
  }, 4000);

})();
</script>
</body>
</html>