<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Crisis Support Toolkit</title>
  <link href="https://cdn.jsdelivr.net/npm/lucide-static@0.321.0/build/lucide.min.css" rel="stylesheet">
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #e0f7fa, #fce4ec);
      color: #333;
      overflow-x: hidden;
    }

    header {
      text-align: center;
      padding: 2rem 1rem 1rem;
      background: url('https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=1950&q=80') center/cover no-repeat;
      color: white;
    }

    header h1 {
      font-size: 2.5rem;
      text-shadow: 0 2px 5px rgba(0,0,0,0.4);
    }

    main {
      max-width: 1000px;
      margin: auto;
      padding: 2rem 1rem;
    }

    .section {
      background: white;
      border-radius: 10px;
      padding: 1.5rem;
      box-shadow: 0 5px 10px rgba(0,0,0,0.1);
      margin-bottom: 2rem;
    }

    .hotline {
      border-left: 4px solid #1976d2;
      padding-left: 1rem;
      margin-bottom: 1rem;
    }

    .high-priority {
      border-color: #d32f2f;
      background-color: #ffebee;
    }

    .hotline h3 {
      margin: 0.5rem 0;
    }

    .country-btn, .category-btn, .save-btn {
      padding: 0.6rem 1rem;
      border: none;
      border-radius: 6px;
      margin: 0.25rem;
      cursor: pointer;
    }

    .country-btn.active {
      background-color: #0288d1;
      color: white;
    }

    .category-btn.active {
      background-color: #f06292;
      color: white;
    }

    .save-btn.active {
      background-color: #d32f2f;
      color: white;
    }

    .assessment-question {
      margin-bottom: 1rem;
    }

    .self-care {
      margin-top: 1rem;
    }

    footer {
      text-align: center;
      font-size: 0.9rem;
      color: #666;
      margin: 2rem 0;
    }
  </style>
</head>
<body>

  <header>
    <h1>🆘 Crisis Support Toolkit</h1>
    <p>Your guide to urgent mental health help & self-care (Canada & USA)</p>
  </header>

  <main>
    <div class="section" id="hotlines">
      <h2>📞 Hotlines</h2>
      <div id="countrySelect">
        <button class="country-btn active" onclick="setCountry('canada')">🇨🇦 Canada</button>
        <button class="country-btn" onclick="setCountry('usa')">🇺🇸 USA</button>
      </div>
      <div id="categorySelect">
        <button class="category-btn active" onclick="setCategory('immediate')">Crisis</button>
        <button class="category-btn" onclick="setCategory('mental')">Mental Health</button>
        <button class="category-btn" onclick="setCategory('specialized')">Specialized</button>
        <button class="category-btn" onclick="setCategory('addiction')">Addiction</button>
      </div>
      <div id="hotlineList"></div>
    </div>

    <div class="section" id="assessment">
      <h2>🧠 Self-Assessment</h2>
      <p>Answer to see how you're doing emotionally.</p>
      <div id="questions"></div>
      <button onclick="showResults()">Get Results</button>
      <div id="results" style="margin-top: 1rem;"></div>
    </div>

    <div class="section self-care">
      <h2>💖 Self-Care Strategies</h2>
      <ul id="selfCareList"></ul>
    </div>

    <div class="section" id="saved">
      <h2>❤️ Saved Resources</h2>
      <ul id="savedList"></ul>
    </div>
  </main>

  <footer>
    You are not alone. This site is not a substitute for professional help. Dial 911 in an emergency.
  </footer>

  <script>
    const hotlines = {
      canada: {
        immediate: [
          { name: '9-8-8: Suicide Crisis Helpline', phone: '9-8-8', text: '9-8-8', desc: '24/7 suicide crisis support', priority: true },
          { name: 'Kids Help Phone', phone: '1-800-668-6868', text: '686868', desc: 'Support for youth under 29', priority: false }
        ],
        mental: [
          { name: 'CAMH Health Line', phone: '1-800-463-2338', desc: 'Mental health referrals' }
        ],
        specialized: [
          { name: "Women's Helpline", phone: '1-866-863-0511', desc: 'Support for women in danger', priority: true }
        ],
        addiction: [
          { name: 'Drug Rehab Services', phone: '1-877-254-3348', desc: '24/7 addiction help' }
        ]
      },
      usa: {
        immediate: [
          { name: '988 Suicide & Crisis Lifeline', phone: '988', desc: '24/7 suicide & crisis support', priority: true },
          { name: 'Crisis Text Line', text: '741741', desc: 'Text HOME to 741741', priority: false }
        ],
        mental: [
          { name: 'NAMI Helpline', phone: '1-800-950-6264', desc: 'Mental health help' }
        ],
        specialized: [
          { name: 'RAINN Hotline', phone: '1-800-656-4673', desc: 'Sexual assault support' }
        ],
        addiction: [
          { name: 'SAMHSA Helpline', phone: '1-800-662-4357', desc: 'Substance abuse support' }
        ]
      }
    };

    const selfCare = [
      '🖐️ 5-4-3-2-1 Grounding',
      '🧊 Cold Water Splash',
      '🚶 Mindful Walking',
      '🧘 Progressive Muscle Relaxation',
      '🎧 Listen to calming music'
    ];

    const questions = [
      { q: 'How often have you felt down or hopeless?', weights: [0,1,2,3] },
      { q: 'Little interest or pleasure in doing things?', weights: [0,1,2,3] },
      { q: 'Thoughts of hurting yourself?', weights: [0,2,4,6] },
    ];

    let currentCountry = 'canada';
    let currentCategory = 'immediate';
    const saved = new Set();

    function setCountry(c) {
      currentCountry = c;
      document.querySelectorAll('.country-btn').forEach(btn => btn.classList.remove('active'));
      event.target.classList.add('active');
      renderHotlines();
    }

    function setCategory(cat) {
      currentCategory = cat;
      document.querySelectorAll('.category-btn').forEach(btn => btn.classList.remove('active'));
      event.target.classList.add('active');
      renderHotlines();
    }

    function renderHotlines() {
      const container = document.getElementById('hotlineList');
      container.innerHTML = '';
      const list = hotlines[currentCountry][currentCategory] || [];
      list.forEach(h => {
        const div = document.createElement('div');
        div.className = 'hotline' + (h.priority ? ' high-priority' : '');
        div.innerHTML = `<h3>${h.name}</h3>
          <p>${h.desc}</p>
          ${h.phone ? `<p>📞 ${h.phone}</p>` : ''}
          ${h.text ? `<p>💬 Text: ${h.text}</p>` : ''}
          <button class="save-btn ${saved.has(h.name) ? 'active' : ''}" onclick="toggleSave('${h.name}')">
            ${saved.has(h.name) ? '❤️ Saved' : '♡ Save'}
          </button>`;
        container.appendChild(div);
      });
      renderSaved();
    }

    function toggleSave(name) {
      saved.has(name) ? saved.delete(name) : saved.add(name);
      localStorage.setItem('savedResources', JSON.stringify([...saved]));
      renderHotlines();
    }

    function renderSaved() {
      const ul = document.getElementById('savedList');
      ul.innerHTML = '';
      saved.forEach(name => {
        const li = document.createElement('li');
        li.textContent = name;
        ul.appendChild(li);
      });
    }

    function renderQuestions() {
      const container = document.getElementById('questions');
      questions.forEach((q, idx) => {
        const div = document.createElement('div');
        div.className = 'assessment-question';
        div.innerHTML = `<p>${q.q}</p>
          ${q.weights.map((_, i) => `
            <label>
              <input type="radio" name="q${idx}" value="${i}" />
              ${['Not at all','Several days','>Half the days','Nearly every day'][i]}
            </label><br/>`).join('')}`;
        container.appendChild(div);
      });
    }

    function showResults() {
      let score = 0;
      questions.forEach((q, i) => {
        const val = document.querySelector(`input[name="q${i}"]:checked`);
        if (val) score += q.weights[val.value];
      });

      let message = '✅ You seem to be managing well.';
      if (score >= 10) message = '⚠️ You may benefit from support. Consider calling a hotline.';
      else if (score >= 5) message = '💛 Mild concerns. Try self-care and support.';

      document.getElementById('results').textContent = `Your score: ${score}. ${message}`;
    }

    function renderSelfCare() {
      const ul = document.getElementById('selfCareList');
      selfCare.forEach(item => {
        const li = document.createElement('li');
        li.textContent = item;
        ul.appendChild(li);
      });
    }

    // Load saved
    try {
      JSON.parse(localStorage.getItem('savedResources') || '[]').forEach(r => saved.add(r));
    } catch {}

    renderHotlines();
    renderQuestions();
    renderSelfCare();
    renderSaved();
  </script>
</body>
</html>