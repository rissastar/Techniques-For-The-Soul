<!DOCTYPE html>
<html lang="en" data-theme="neon">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dante‚Äôs Fun Hub 4.0</title>
  <style>
    /* Reset & base */
    * {
      box-sizing: border-box;
    }
    body {
      margin: 0; padding: 0;
      background: #0b0f1a;
      color: #00fff7;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      user-select: none;
      overflow-x: hidden;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }
    h1 {
      text-align: center;
      font-weight: 900;
      font-size: 3rem;
      margin: 20px 0 10px;
      color: #0ff;
      text-shadow: 0 0 10px #00ffffaa;
    }
    header {
      background: linear-gradient(90deg, #00ffffdd, #008080dd);
      padding: 10px 0;
      box-shadow: 0 2px 8px #00ffffaa;
      font-weight: 900;
      color: #004d4d;
      text-align: center;
      user-select: none;
    }
    main {
      flex: 1;
      max-width: 800px;
      margin: 0 auto 20px;
      background: #111827;
      border-radius: 12px;
      box-shadow: 0 0 20px #00ffffaa;
      padding: 15px 25px;
      display: flex;
      flex-direction: column;
      min-height: 500px;
    }

    /* Tabs container */
    .tabs {
      display: flex;
      gap: 8px;
      margin-bottom: 15px;
      justify-content: center;
      flex-wrap: wrap;
    }
    .tab-btn {
      background: #002b2b;
      color: #00ffff;
      border: none;
      padding: 10px 20px;
      font-weight: 700;
      font-size: 1rem;
      border-radius: 30px;
      cursor: pointer;
      box-shadow: 0 0 5px #00ffffaa;
      transition: background 0.3s, color 0.3s;
      user-select: none;
    }
    .tab-btn:hover {
      background: #00ffff;
      color: #002b2b;
      box-shadow: 0 0 15px #00ffffff;
    }
    .tab-btn.active {
      background: #00ffff;
      color: #002b2b;
      box-shadow: 0 0 20px #00ffffff;
    }

    /* Content areas */
    .tab-content {
      flex: 1;
      overflow-y: auto;
      color: #00fff7;
      font-size: 1.1rem;
      line-height: 1.5;
      padding: 10px;
      background: #001f1f;
      border-radius: 10px;
      box-shadow: inset 0 0 15px #00ffffbb;
    }
    .tab-content.hidden {
      display: none;
    }

    /* Memes & Rave facts & Funny stories list */
    ul {
      list-style-type: none;
      padding: 0;
      margin: 0;
    }
    li {
      margin: 8px 0;
      padding: 8px 12px;
      border-radius: 8px;
      background: #003636bb;
      cursor: default;
      user-select: text;
      transition: background 0.25s;
    }
    li:hover {
      background: #005555ee;
    }

    /* Funny story display */
    #storyDisplay {
      margin-top: 10px;
      font-style: italic;
      font-weight: 600;
      color: #aaffff;
      min-height: 80px;
      padding: 10px;
      background: #004d4d;
      border-radius: 10px;
      box-shadow: 0 0 8px #00ffffcc inset;
    }
    #nextStoryBtn {
      margin-top: 10px;
      padding: 8px 14px;
      border-radius: 20px;
      border: none;
      background: #00ffff;
      color: #002b2b;
      font-weight: 700;
      cursor: pointer;
      user-select: none;
      box-shadow: 0 0 10px #00ffffcc;
      transition: background 0.3s;
    }
    #nextStoryBtn:hover {
      background: #33ffff;
    }

    /* Mini-game canvas */
    #lobsterCanvas {
      display: block;
      margin: 15px auto;
      background: #001f1f;
      border: 3px solid #00ffff;
      border-radius: 15px;
      box-shadow: 0 0 15px #00ffffaa inset;
      touch-action: none;
      user-select: none;
    }
    #gameControls {
      text-align: center;
      margin: 10px 0;
    }
    #startGameBtn, #stopGameBtn {
      margin: 0 10px;
      padding: 10px 18px;
      border-radius: 30px;
      border: none;
      font-weight: 700;
      background: #00ffff;
      color: #002b2b;
      cursor: pointer;
      box-shadow: 0 0 10px #00ffffcc;
      user-select: none;
      transition: background 0.3s;
    }
    #startGameBtn:hover:not(:disabled) {
      background: #33ffff;
    }
    #stopGameBtn:hover:not(:disabled) {
      background: #33ffff;
    }
    #startGameBtn:disabled, #stopGameBtn:disabled {
      background: #003f3f;
      cursor: default;
      box-shadow: none;
    }
    #scoreDisplay {
      font-weight: 900;
      font-size: 1.2rem;
      color: #00ffff;
      text-shadow: 0 0 10px #00ffffbb;
      user-select: none;
    }

    /* DanteBox */
    #danteBox {
      position: fixed;
      bottom: 15px;
      right: 15px;
      width: 60px;
      height: 60px;
      background: #00ffff;
      border-radius: 50%;
      box-shadow: 0 0 20px #00ffffcc;
      cursor: pointer;
      user-select: none;
      display: flex;
      justify-content: center;
      align-items: center;
      font-weight: 900;
      font-size: 2rem;
      color: #002b2b;
      outline: none;
      transition: transform 0.3s ease;
      z-index: 9999;
    }
    #danteBox:focus {
      outline: 3px solid #33ffff;
    }
    #danteBox.shake {
      animation: shake 0.7s ease infinite;
    }
    #danteBox.opened {
      background: #33ffff;
      box-shadow: 0 0 40px #33ffffff;
      cursor: default;
      transform: scale(1.2);
    }
    @keyframes shake {
      0% { transform: translate(1px, 1px) rotate(0deg); }
      20% { transform: translate(-1px, -2px) rotate(-2deg); }
      40% { transform: translate(-3px, 0px) rotate(2deg); }
      60% { transform: translate(3px, 2px) rotate(0deg); }
      80% { transform: translate(1px, -1px) rotate(1deg); }
      100% { transform: translate(1px, 1px) rotate(0deg); }
    }

    /* Confetti canvas */
    #confettiCanvas {
      pointer-events: none;
      position: fixed;
      top: 0; left: 0;
      width: 100vw;
      height: 100vh;
      z-index: 9998;
      user-select: none;
    }

    /* DanteBot chat */
    #chatContainer {
      display: flex;
      flex-direction: column;
      height: 100%;
    }
    #response {
      flex: 1;
      background: #002a2a;
      padding: 15px;
      border-radius: 15px;
      color: #66ffff;
      font-weight: 700;
      overflow-y: auto;
      user-select: text;
      margin-bottom: 10px;
      font-family: 'Courier New', Courier, monospace;
      font-size: 1.1rem;
      white-space: pre-wrap;
    }
    #inputArea {
      display: flex;
      gap: 10px;
    }
    #userInput {
      flex: 1;
      padding: 12px 15px;
      border-radius: 20px;
      border: none;
      font-size: 1.1rem;
      font-weight: 700;
      background: #005050;
      color: #aaffff;
      user-select: text;
    }
    #userInput:focus {
      outline: 3px solid #00ffff;
    }
    #sendBtn {
      padding: 12px 18px;
      border-radius: 30px;
      border: none;
      background: #00ffff;
      color: #002b2b;
      font-weight: 900;
      cursor: pointer;
      user-select: none;
      transition: background 0.3s;
    }
    #sendBtn:hover {
      background: #33ffff;
    }

    /* Scrollbar for content */
    .tab-content::-webkit-scrollbar {
      width: 10px;
    }
    .tab-content::-webkit-scrollbar-track {
      background: #001919;
      border-radius: 10px;
    }
    .tab-content::-webkit-scrollbar-thumb {
      background: #00ffffbb;
      border-radius: 10px;
    }

    /* Responsive */
    @media (max-width: 600px) {
      main {
        padding: 10px 15px;
      }
      h1 {
        font-size: 2.2rem;
      }
      .tab-btn {
        font-size: 0.9rem;
        padding: 8px 14px;
      }
      #lobsterCanvas {
        width: 300px !important;
        height: 200px !important;
      }
    }
  </style>
</head>
<body>
  <header>
    <h1>Dante‚Äôs Fun Hub 4.0 üéâü¶û</h1>
  </header>
  <main>
    <nav class="tabs" role="tablist" aria-label="Fun Hub Navigation">
      <button class="tab-btn active" role="tab" aria-selected="true" aria-controls="memesTab" id="memesBtn">Memes</button>
      <button class="tab-btn" role="tab" aria-selected="false" aria-controls="raveFactsTab" id="raveFactsBtn">Rave Facts</button>
      <button class="tab-btn" role="tab" aria-selected="false" aria-controls="funnyStoriesTab" id="funnyStoriesBtn">Funny Stories</button>
      <button class="tab-btn" role="tab" aria-selected="false" aria-controls="miniGameTab" id="miniGameBtn">Mini-Game</button>
      <button class="tab-btn" role="tab" aria-selected="false" aria-controls="danteBotTab" id="danteBotBtn">DanteBot Chat</button>
    </nav>

    <!-- Memes -->
    <section class="tab-content" id="memesTab" role="tabpanel" aria-labelledby="memesBtn">
      <ul id="memesList" aria-live="polite" aria-relevant="additions"></ul>
    </section>

    <!-- Rave Facts -->
    <section class="tab-content hidden" id="raveFactsTab" role="tabpanel" aria-labelledby="raveFactsBtn">
      <ul id="raveFactsList" aria-live="polite" aria-relevant="additions"></ul>
    </section>

    <!-- Funny Stories -->
    <section class="tab-content hidden" id="funnyStoriesTab" role="tabpanel" aria-labelledby="funnyStoriesBtn">
      <div id="storyDisplay" aria-live="polite" aria-atomic="true" tabindex="0" role="region" aria-label="Funny story display">
        Click 'Next Story' for a laugh!
      </div>
      <button id="nextStoryBtn" aria-controls="storyDisplay" aria-label="Show next funny story">Next Story üòÇ</button>
    </section>

    <!-- Mini-Game -->
    <section class="tab-content hidden" id="miniGameTab" role="tabpanel" aria-labelledby="miniGameBtn">
      <canvas id="lobsterCanvas" width="400" height="250" aria-label="Lobster Rave Catch game area"></canvas>
      <div id="gameControls" aria-live="polite" aria-atomic="true" aria-label="Game controls">
        <button id="startGameBtn">Start Game ü¶û</button>
        <button id="stopGameBtn" disabled>Stop Game ‚úã</button>
        <span id="scoreDisplay" aria-live="polite" aria-atomic="true">Score: 0</span>
      </div>
      <p style="color:#33ffff; font-style:italic; font-size:0.9rem; text-align:center; user-select:none;">
        Use Left/Right arrows or A/D keys to move the crab and catch falling lobsters!
      </p>
    </section>

    <!-- DanteBot Chat -->
    <section class="tab-content hidden" id="danteBotTab" role="tabpanel" aria-labelledby="danteBotBtn">
      <div id="chatContainer">
        <div id="response" aria-live="polite" aria-atomic="true" tabindex="0" role="log">Say hi to DanteBot! üëã</div>
        <div id="inputArea">
          <input type="text" id="userInput" aria-label="Type your message to DanteBot" autocomplete="off" />
          <button id="sendBtn" aria-label="Send message to DanteBot">Send</button>
        </div>
      </div>
    </section>
  </main>

  <button id="danteBox" aria-label="Open DanteBox surprise gift" tabindex="0" title="Click me for a surprise!">üéÅ</button>
  <canvas id="confettiCanvas"></canvas>

  <script>
    // === TAB SWITCHING LOGIC ===
    const tabs = document.querySelectorAll('.tab-btn');
    const contents = document.querySelectorAll('.tab-content');
    tabs.forEach(tab => {
      tab.addEventListener('click', () => {
        // Deactivate all
        tabs.forEach(t => {
          t.classList.remove('active');
          t.setAttribute('aria-selected', 'false');
        });
        contents.forEach(c => c.classList.add('hidden'));
        // Activate clicked
        tab.classList.add('active');
        tab.setAttribute('aria-selected', 'true');
        const id = tab.getAttribute('aria-controls');
        document.getElementById(id).classList.remove('hidden');
        // Focus the content container for accessibility
        document.getElementById(id).focus();
      });
    });

    // === MEMES ===
    const memes = [
      "Why don‚Äôt scientists trust atoms? Because they make up everything! üòÇ",
      "I told my computer I needed a break, and now it won‚Äôt stop sending me Kit-Kats.",
      "Parallel lines have so much in common‚Ä¶ it‚Äôs a shame they‚Äôll never meet.",
      "Why did the scarecrow win an award? Because he was outstanding in his field!",
      "I would tell you a joke about UDP‚Ä¶ but you might not get it.",
      "I‚Äôm reading a book about anti-gravity. It‚Äôs impossible to put down!",
      "Why don‚Äôt programmers like nature? Too many bugs.",
      "There are only 10 types of people in the world: those who understand binary, and those who don‚Äôt.",
      "I tried to catch fog yesterday. Mist.",
      "Why was the math book sad? It had too many problems."
    ];
    const memesList = document.getElementById('memesList');
    memes.forEach(meme => {
      const li = document.createElement('li');
      li.textContent = meme;
      memesList.appendChild(li);
    });

    // === RAVE FACTS ===
    const raveFacts = [
      "The first modern rave took place in the UK in the late 1980s.",
      "Raves often feature electronic music genres like techno, house, and drum and bass.",
      "Glow sticks were invented for raves and safety at night events.",
      "The PLUR philosophy (Peace, Love, Unity, Respect) is central to rave culture.",
      "Many raves started in underground warehouses and clubs.",
      "Light shows and lasers create immersive rave environments.",
      "Raves encourage self-expression through unique clothing and dance.",
      "Music at raves often has a steady beat of 120-150 BPM to keep energy high.",
      "Rave culture helped popularize electronic dance music worldwide.",
      "Some of the biggest festivals today evolved from underground rave scenes."
    ];
    const raveFactsList = document.getElementById('raveFactsList');
    raveFacts.forEach(fact => {
      const li = document.createElement('li');
      li.textContent = fact;
      raveFactsList.appendChild(li);
    });

    // === FUNNY STORIES ===
    const funnyStories = [
      "Once, I tried to impress someone by juggling lobsters. Turns out, they don‚Äôt like to be juggled. Who knew?",
      "At a rave, I accidentally danced so hard I lost my shoes. Still found them‚Ä¶ under someone else‚Äôs rave pants.",
      "I told my friends I‚Äôm an engineer. They asked if I can fix their Wi-Fi. Spoiler: I‚Äôm still working on mine!",
      "Went fishing with Dante. Caught more sunburn than lobsters. Next time, sunscreen is mandatory!",
      "I tried to rap once. My dog gave me a standing ovation‚Ä¶ by running away.",
      "Dante made a mixtape for the rave. It was fire! Literally, the speaker caught a spark.",
      "Got lost at a festival and found a secret taco stand. Best wrong turn ever.",
      "Tried to build a lobster trap out of old rave glow sticks. It mostly glowed and didn‚Äôt catch anything.",
      "Once fell asleep during a rave and woke up thinking I was the DJ. The crowd disagreed.",
      "My dance moves are like code: sometimes they work, sometimes they cause a crash."
    ];
    const storyDisplay = document.getElementById('storyDisplay');
    const nextStoryBtn = document.getElementById('nextStoryBtn');
    let currentStoryIndex = -1;
    function showNextStory() {
      currentStoryIndex = (currentStoryIndex + 1) % funnyStories.length;
      storyDisplay.textContent = funnyStories[currentStoryIndex];
      storyDisplay.focus();
      launchConfetti();
    }
    nextStoryBtn.addEventListener('click', showNextStory);

    // === DANTEBOX ===
    const danteBox = document.getElementById('danteBox');
    let danteBoxOpened = false;
    danteBox.addEventListener('click', () => {
      if (danteBoxOpened) return;
      danteBoxOpened = true;
      danteBox.classList.add('shake');
      setTimeout(() => {
        danteBox.classList.remove('shake');
        danteBox.classList.add('opened');
        danteBox.textContent = "‚ú®";
        alert("üéâ Surprise from Larissa to Dante! üéâ\n\nKeep shining and keep having fun! Love, Larissa ‚ù§Ô∏è");
        launchConfetti();
      }, 1500);
    });

    // === CONFETTI ===
    const confettiCanvas = document.getElementById('confettiCanvas');
    const confettiCtx = confettiCanvas.getContext('2d');
    let confettiPieces = [];
    let confettiAnimationId;

    function resizeCanvas() {
      confettiCanvas.width = window.innerWidth;
      confettiCanvas.height = window.innerHeight;
    }
    window.addEventListener('resize', resizeCanvas);
    resizeCanvas();

    class ConfettiPiece {
      constructor() {
        this.x = Math.random() * confettiCanvas.width;
        this.y = Math.random() * confettiCanvas.height - confettiCanvas.height;
        this.size = 8 + Math.random() * 6;
        this.speed = 2 + Math.random() * 3;
        this.angle = Math.random() * 2 * Math.PI;
        this.angularSpeed = 0.05 + Math.random() * 0.05;
        this.color = `hsl(${Math.floor(Math.random()*360)}, 100%, 70%)`;
        this.opacity = 1;
        this.spin = Math.random() > 0.5 ? 1 : -1;
      }
      update() {
        this.y += this.speed;
        this.angle += this.angularSpeed * this.spin;
        if (this.y > confettiCanvas.height) {
          this.y = -this.size;
          this.x = Math.random() * confettiCanvas.width;
        }
      }
      draw() {
        confettiCtx.save();
        confettiCtx.translate(this.x, this.y);
        confettiCtx.rotate(this.angle);
        confettiCtx.fillStyle = this.color;
        confettiCtx.globalAlpha = this.opacity;
        confettiCtx.fillRect(-this.size/2, -this.size/2, this.size, this.size / 3);
        confettiCtx.restore();
      }
    }
    function createConfetti(num = 150) {
      confettiPieces = [];
      for(let i=0; i<num; i++) {
        confettiPieces.push(new ConfettiPiece());
      }
    }
    function renderConfetti() {
      confettiCtx.clearRect(0, 0, confettiCanvas.width, confettiCanvas.height);
      confettiPieces.forEach(p => {
        p.update();
        p.draw();
      });
      confettiAnimationId = requestAnimationFrame(renderConfetti);
    }
    function launchConfetti() {
      createConfetti();
      if(!confettiAnimationId) renderConfetti();
      setTimeout(() => {
        cancelAnimationFrame(confettiAnimationId);
        confettiAnimationId = null;
        confettiCtx.clearRect(0, 0, confettiCanvas.width, confettiCanvas.height);
      }, 4000);
    }

    // === LOBSTER RAVE CATCH MINI-GAME ===
    const canvas = document.getElementById('lobsterCanvas');
    const ctx = canvas.getContext('2d');
    const startGameBtn = document.getElementById('startGameBtn');
    const stopGameBtn = document.getElementById('stopGameBtn');
    const scoreDisplay = document.getElementById('scoreDisplay');

    let gameRunning = false;
    let score = 0;
    const crabWidth = 80;
    const crabHeight = 40;
    const lobsterSize = 30;

    // Crab position and speed
    let crabX = canvas.width / 2 - crabWidth/2;
    const crabY = canvas.height - crabHeight - 10;
    const crabSpeed = 7;
    let moveLeft = false;
    let moveRight = false;

    // Lobsters array
    let lobsters = [];

    // Lobster falling speed
    const lobsterFallSpeed = 3;

    // Draw crab
    function drawCrab() {
      ctx.fillStyle = '#00ffff';
      ctx.beginPath();
      ctx.ellipse(crabX + crabWidth/2, crabY + crabHeight/2, crabWidth/2, crabHeight/2, 0, 0, Math.PI * 2);
      ctx.fill();
      // Crab claws
      ctx.strokeStyle = '#00ffff';
      ctx.lineWidth = 4;
      ctx.beginPath();
      ctx.moveTo(crabX + 10, crabY + 20);
      ctx.lineTo(crabX, crabY + 10);
      ctx.moveTo(crabX + crabWidth - 10, crabY + 20);
      ctx.lineTo(crabX + crabWidth + 5, crabY + 10);
      ctx.stroke();
    }

    // Draw lobster
    function drawLobster(lob) {
      ctx.fillStyle = '#ff3300';
      ctx.beginPath();
      ctx.ellipse(lob.x, lob.y, lobsterSize/2, lobsterSize/3, 0, 0, Math.PI * 2);
      ctx.fill();
      // antenna
      ctx.strokeStyle = '#ff3300';
      ctx.lineWidth = 2;
      ctx.beginPath();
      ctx.moveTo(lob.x - 5, lob.y - 5);
      ctx.lineTo(lob.x - 15, lob.y - 15);
      ctx.moveTo(lob.x + 5, lob.y - 5);
      ctx.lineTo(lob.x + 15, lob.y - 15);
      ctx.stroke();
    }

    // Update game state
    function updateGame() {
      if (!gameRunning) return;

      // Clear canvas
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      // Move crab
      if (moveLeft) crabX -= crabSpeed;
      if (moveRight) crabX += crabSpeed;

      // Clamp crab position inside canvas
      crabX = Math.max(0, Math.min(canvas.width - crabWidth, crabX));

      // Draw crab
      drawCrab();

      // Update and draw lobsters
      for (let i = lobsters.length -1; i >= 0; i--) {
        const lob = lobsters[i];
        lob.y += lobsterFallSpeed;
        drawLobster(lob);

        // Check if lobster caught
        if (
          lob.y + lobsterSize/3 >= crabY &&
          lob.x > crabX &&
          lob.x < crabX + crabWidth
        ) {
          lobsters.splice(i, 1);
          score++;
          scoreDisplay.textContent = "Score: " + score;
          launchConfetti();
        } else if (lob.y > canvas.height + lobsterSize) {
          // Remove lobster if it falls off screen
          lobsters.splice(i, 1);
        }
      }

      // Randomly add lobsters
      if (Math.random() < 0.03) {
        lobsters.push({
          x: Math.random() * (canvas.width - lobsterSize) + lobsterSize/2,
          y: -lobsterSize
        });
      }

      requestAnimationFrame(updateGame);
    }

    // Keyboard controls
    function keyDownHandler(e) {
      if (!gameRunning) return;
      if (e.key === "ArrowLeft" || e.key.toLowerCase() === "a") {
        moveLeft = true;
      } else if (e.key === "ArrowRight" || e.key.toLowerCase() === "d") {
        moveRight = true;
      }
    }
    function keyUpHandler(e) {
      if (!gameRunning) return;
      if (e.key === "ArrowLeft" || e.key.toLowerCase() === "a") {
        moveLeft = false;
      } else if (e.key === "ArrowRight" || e.key.toLowerCase() === "d") {
        moveRight = false;
      }
    }

    // Start game
    startGameBtn.addEventListener('click', () => {
      if (gameRunning) return;
      gameRunning = true;
      score = 0;
      scoreDisplay.textContent = "Score: 0";
      lobsters = [];
      crabX = canvas.width / 2 - crabWidth/2;
      startGameBtn.disabled = true;
      stopGameBtn.disabled = false;
      updateGame();
      window.addEventListener('keydown', keyDownHandler);
      window.addEventListener('keyup', keyUpHandler);
    });

    // Stop game
    stopGameBtn.addEventListener('click', () => {
      if (!gameRunning) return;
      gameRunning = false;
      startGameBtn.disabled = false;
      stopGameBtn.disabled = true;
      window.removeEventListener('keydown', keyDownHandler);
      window.removeEventListener('keyup', keyUpHandler);
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      scoreDisplay.textContent = "Score: " + score + " (Game stopped)";
    });

    // === DANTEBOT CHAT ===
    const chatResponse = document.getElementById('response');
    const userInput = document.getElementById('userInput');
    const sendBtn = document.getElementById('sendBtn');

    // Simple local DanteBot AI responses
    const danteBotReplies = [
      "Hey Dante! Ready to rave? üï∫",
      "Did you hear the one about the lobster that threw the party? It was shell-tastic!",
      "You bring the vibe, I bring the rave facts!",
      "Lobsters can live up to 50 years. That's a long rave!",
      "Don't forget to stay hydrated at the rave, bud!",
      "If you need a laugh, just ask me for a funny story.",
      "Let's catch some lobsters and some good times!",
      "Feeling the rave energy today? Let's keep it going!",
      "I‚Äôm your rave sidekick, Dante. What‚Äôs up?",
      "Dark humor? I got you covered. Just ask!"
    ];

    function danteBotReply(userMsg) {
      userMsg = userMsg.toLowerCase();
      if (userMsg.includes('lobster')) return "Lobsters love to rave too! ü¶ûüî•";
      if (userMsg.includes('rave')) return "Raves are all about peace, love, unity, and respect! ‚úåÔ∏è‚ù§Ô∏èü§ù‚ú®";
      if (userMsg.includes('funny')) return funnyStories[Math.floor(Math.random() * funnyStories.length)];
      if (userMsg.includes('hello') || userMsg.includes('hi')) return "Hey Dante! Ready for some fun?";
      if (userMsg.includes('love')) return "Sending you rave love and good vibes! ‚ù§Ô∏èüéâ";
      if (userMsg.includes('music')) return "Turn up the bass and let‚Äôs dance all night!";
      if (userMsg.includes('dark')) return "Dark humor detected. Here‚Äôs a light-hearted joke instead: Why don‚Äôt scientists trust atoms? Because they make up everything! üòÇ";
      // Default fallback random reply
      return danteBotReplies[Math.floor(Math.random() * danteBotReplies.length)];
    }

    sendBtn.addEventListener('click', sendMessage);
    userInput.addEventListener('keydown', (e) => {
      if (e.key === 'Enter') sendMessage();
    });

    function sendMessage() {
      const msg = userInput.value.trim();
      if (!msg) return;
      appendMessage(`You: ${msg}`);
      userInput.value = '';
      setTimeout(() => {
        const reply = danteBotReply(msg);
        appendMessage(`DanteBot: ${reply}`);
        launchConfetti();
      }, 800);
    }

    function appendMessage(text) {
      chatResponse.textContent += "\n" + text;
      chatResponse.scrollTop = chatResponse.scrollHeight;
      chatResponse.focus();
    }

    // Accessibility: focus main area on load
    document.querySelector('main').focus();

  </script>
</body>
</html>