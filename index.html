<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Dante's Dopamine Dive - All-in-One Modular App</title>
<style>
  /* General neon rave style & layout */
  @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');
  body {
    margin:0; padding:0;
    background: #000;
    color: #0ff;
    font-family: 'Press Start 2P', monospace, Arial, sans-serif;
    display: flex; flex-direction: column; height: 100vh;
    overflow: hidden;
  }
  header {
    background: #111;
    padding: 1rem;
    text-align: center;
    font-size: 1.4rem;
    color: #0ff;
    text-shadow: 0 0 10px #0ff;
    user-select:none;
  }
  nav {
    display: flex;
    background: #222;
  }
  nav button {
    flex: 1;
    background: #222;
    border: none;
    padding: 1rem 0;
    font-size: 1rem;
    font-weight: 700;
    color: #0ff;
    cursor: pointer;
    text-shadow: 0 0 5px #0ff;
    transition: background 0.3s ease;
  }
  nav button:hover, nav button.active {
    background: #0ff;
    color: #000;
  }
  main {
    flex: 1;
    overflow-y: auto;
    padding: 1rem;
    background: radial-gradient(circle at center, #003344 0%, #000 80%);
  }
  section.module {
    display: none;
  }
  section.module.active {
    display: block;
  }

  /* Buttons */
  button, input[type="button"], input[type="submit"] {
    font-family: inherit;
    font-weight: 700;
    background: #0ff;
    color: #000;
    border: none;
    border-radius: 6px;
    padding: 0.6rem 1.2rem;
    cursor: pointer;
    box-shadow: 0 0 8px #0ff;
    transition: background 0.2s ease;
    user-select:none;
  }
  button:hover, input[type="button"]:hover, input[type="submit"]:hover {
    background: #08c;
    color: #fff;
  }

  /* Inputs */
  input[type="text"] {
    width: 100%;
    padding: 0.6rem 0.8rem;
    border-radius: 6px;
    border: 2px solid #0ff;
    background: #000;
    color: #0ff;
    font-family: 'Press Start 2P', monospace;
    font-size: 1rem;
    box-shadow: 0 0 5px #0ff inset;
  }

  /* Scrollbar for chat */
  #chat-window {
    background: #111;
    height: 250px;
    overflow-y: auto;
    padding: 0.5rem;
    border: 2px solid #0ff;
    border-radius: 8px;
    color: #0ff;
    font-size: 0.9rem;
    font-family: monospace, monospace;
  }

  /* Lobster Game */
  #lobster-canvas {
    background: black;
    border: 3px solid #0ff;
    border-radius: 8px;
    display: block;
    margin: 0 auto;
  }
  #scoreboard, #timer, #game-message {
    text-align: center;
    margin-top: 12px;
    font-size: 1.2rem;
    color: #0ff;
    text-shadow: 0 0 6px #0ff;
  }

  /* Meme Viewer */
  #meme-img {
    max-width: 100%;
    border-radius: 10px;
    box-shadow: 0 0 15px #0ff;
    display: block;
    margin: 0 auto;
  }

  /* Sh*t That Reels Me In */
  #reels-container {
    background: #111;
    border-radius: 8px;
    padding: 1rem;
    box-shadow: 0 0 15px #0ff inset;
    font-size: 1.1rem;
    line-height: 1.4;
    color: #0ff;
  }
  #reels-output {
    margin-top: 1rem;
    padding: 1rem;
    border: 2px solid #0ff;
    border-radius: 8px;
    background: #000;
    font-weight: 700;
    user-select: text;
  }

  /* Rave Glow Background Animation */
  #rave-bg {
    position: fixed;
    top: 0; left: 0; width: 100%; height: 100%;
    pointer-events: none;
    z-index: 0;
    background: radial-gradient(circle at center, #00ffff33, transparent 70%);
    animation: raveGlow 6s infinite alternate ease-in-out;
  }
  @keyframes raveGlow {
    0% { background-position: center; }
    50% { background-position: top left; }
    100% { background-position: center; }
  }
</style>
</head>
<body>

<header>Dante's Dopamine Dive - All-in-One Modular App</header>
<nav>
  <button id="tab-lobster" class="active" aria-controls="module-lobster">Lobster Rave Catch</button>
  <button id="tab-meme" aria-controls="module-meme">Memes & Dark Jokes</button>
  <button id="tab-chat" aria-controls="module-chat">DanteBot Chat</button>
  <button id="tab-reels" aria-controls="module-reels">Sh*t That Reels Me In</button>
</nav>

<main>
  <!-- Lobster Game Module -->
  <section id="module-lobster" class="module active" role="region" aria-label="Lobster Rave Catch Mini-game">
    <canvas id="lobster-canvas" width="400" height="400" aria-label="Lobster catching game canvas"></canvas>
    <div id="scoreboard">Score: 0</div>
    <div id="timer">Time Left: 30s</div>
    <div id="game-message" aria-live="polite"></div>
    <button id="start-button">Start Game</button>
  </section>

  <!-- Meme Viewer Module -->
  <section id="module-meme" class="module" role="region" aria-label="Meme and Dark Joke Viewer">
    <h2>Memes & Dark Jokes</h2>
    <img id="meme-img" alt="Funny meme or joke" />
    <button id="next-meme" style="margin-top:1rem;">Next Meme</button>
  </section>

  <!-- DanteBot Chat Module -->
  <section id="module-chat" class="module" role="region" aria-label="DanteBot Chat AI">
    <h2>DanteBot Chat</h2>
    <div id="chat-window" aria-live="polite"></div>
    <input type="text" id="chat-input" placeholder="Ask DanteBot something..." aria-label="Chat input"/>
  </section>

  <!-- Sh*t That Reels Me In Module -->
  <section id="module-reels" class="module" role="region" aria-label="Sh*t That Reels Me In Interactive Tool">
    <h2>Sh*t That Reels Me In - Dante's Edition</h2>
    <div id="reels-container">
      <button id="spin-reels">Spin the Wheel!</button>
      <div id="reels-output" aria-live="polite"></div>
    </div>
  </section>
</main>

<!-- Rave Background Glow -->
<div id="rave-bg"></div>

<script>
  // === Tab Navigation ===
  const tabs = document.querySelectorAll('nav button');
  const modules = document.querySelectorAll('section.module');
  tabs.forEach(tab => {
    tab.addEventListener('click', () => {
      tabs.forEach(t => t.classList.remove('active'));
      tab.classList.add('active');
      const targetId = tab.getAttribute('aria-controls');
      modules.forEach(mod => {
        mod.classList.toggle('active', mod.id === targetId);
      });
    });
  });

  // === Lobster Rave Catch Game Module ===
  class LobsterGame {
    constructor() {
      this.canvas = document.getElementById('lobster-canvas');
      this.ctx = this.canvas.getContext('2d');
      this.scoreboard = document.getElementById('scoreboard');
      this.timerDisplay = document.getElementById('timer');
      this.message = document.getElementById('game-message');
      this.startButton = document.getElementById('start-button');
      this.lobsterImg = new Image();
      this.lobsterImg.src = 'https://i.imgur.com/82Emw6F.png'; // lobster icon

      this.lobsters = [];
      this.score = 0;
      this.timeLeft = 30;
      this.gameRunning = false;

      this.gameLoopId = null;
      this.spawnId = null;
      this.timerId = null;

      this.lobsterWidth = 50;
      this.lobsterHeight = 50;

      this.startButton.addEventListener('click', () => this.startGame());
      this.canvas.addEventListener('click', e => this.handleClick(e));

      this.lobsterImg.onload = () => this.clearCanvas();
    }

    startGame() {
      if (this.gameRunning) return;
      this.score = 0;
      this.timeLeft = 30;
      this.lobsters = [];
      this.gameRunning = true;
      this.scoreboard.textContent = 'Score: 0';
      this.timerDisplay.textContent = 'Time Left: 30s';
      this.message.textContent = '';
      this.startButton.disabled = true;

      this.gameLoopId = requestAnimationFrame(() => this.gameLoop());
      this.spawnId = setInterval(() => this.spawnLobster(), 1100);
      this.timerId = setInterval(() => {
        this.timeLeft--;
        this.timerDisplay.textContent = `Time Left: ${this.timeLeft}s`;
        if (this.timeLeft <= 0) this.endGame();
      }, 1000);
    }

    endGame() {
      this.gameRunning = false;
      clearInterval(this.spawnId);
      clearInterval(this.timerId);
      cancelAnimationFrame(this.gameLoopId);
      this.lobsters = [];
      this.clearCanvas();
      this.message.textContent = `Game Over! You caught ${this.score} rave lobsters ðŸ¦žðŸ”¥`;
      this.startButton.disabled = false;
    }

    spawnLobster() {
      const x = Math.random() * (this.canvas.width - this.lobsterWidth);
      const y = this.canvas.height + this.lobsterHeight;
      const speed = 1 + Math.random() * 2.5;
      this.lobsters.push({x, y, speed});
    }

    clearCanvas() {
      this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);
      // Background neon gradient
      const grad = this.ctx.createLinearGradient(0, 0, this.canvas.width, this.canvas.height);
      grad.addColorStop(0, '#0ff');
      grad.addColorStop(0.5, '#f0f');
      grad.addColorStop(1, '#0ff');
      this.ctx.fillStyle = grad;
      this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);
    }

    gameLoop() {
      this.clearCanvas();
      // Move & draw lobsters
      this.lobsters = this.lobsters.filter(l => l.y + this.lobsterHeight > 0);
      this.lobsters.forEach(l => {
        this.ctx.drawImage(this.lobsterImg, l.x, l.y, this.lobsterWidth, this.lobsterHeight);
        l.y -= l.speed;
      });
      if (this.gameRunning) this.gameLoopId = requestAnimationFrame(() => this.gameLoop());
    }

    handleClick(event) {
      if (!this.gameRunning) return;
      const rect = this.canvas.getBoundingClientRect();
      const mx = event.clientX - rect.left;
      const my = event.clientY - rect.top;

      for (let i = this.lobsters.length - 1; i >= 0; i--) {
        const l = this.lobsters[i];
        if (mx >= l.x && mx <= l.x + this.lobsterWidth && my >= l.y && my <= l.y + this.lobsterHeight) {
          this.lobsters.splice(i, 1);
          this.score++;
          this.scoreboard.textContent = `Score: ${this.score}`;
          // You could add catch sound here
          break;
        }
      }
    }
  }

  // === Meme Viewer Module ===
  class MemeViewer {
    constructor() {
      this.memeImg = document.getElementById('meme-img');
      this.nextBtn = document.getElementById('next-meme');
      // Adult-friendly dark humor memes / jokes
      this.memes = [
        'https://i.imgur.com/aUuHZ2B.jpeg', // Trailer Park Boys style
        'https://i.imgur.com/k8Zyscz.jpeg', // Dark humor
        'https://i.imgur.com/5Q8Tk7B.jpeg', // Sassy the Sasquatch vibe
        'https://i.imgur.com/Y82HlZb.jpeg', // Lobster meme
        'https://i.imgur.com/hdMphH8.jpeg', // Rave meme
      ];
      this.index = 0;
      this.nextBtn.addEventListener('click', () => this.nextMeme());
      this.showMeme();
    }
    showMeme() {
      this.memeImg.src = this.memes[this.index];
    }
    nextMeme() {
      this.index = (this.index + 1) % this.memes.length;
      this.showMeme();
    }
  }

  // === DanteBot Chat Module ===
  class DanteBotChat {
    constructor() {
      this.chatWindow = document.getElementById('chat-window');
      this.chatInput = document.getElementById('chat-input');

      this.responses = [
        "Yo Dante! What's good?",
        "You just caught a lobster, nice!",
        "Remember to hydrate, bro.",
        "Raves and lobsters, the perfect combo!",
        "Did you check the festival lineup yet?",
        "Haha, classic Trailer Park Boys vibes.",
        "Keep it chill, my dude.",
        "Engineering is the art of solving the unsolvable!",
        "Stay strong, Dante. One step at a time.",
        "Have you smoked the good stuff lately?",
        "What's your favorite rap track these days?",
        "Lifeâ€™s a rave, just keep dancing.",
      ];

      this.chatInput.addEventListener('keydown', e => {
        if (e.key === 'Enter' && this.chatInput.value.trim()) {
          this.addUserMessage(this.chatInput.value.trim());
          this.chatInput.value = '';
          setTimeout(() => this.botReply(), 900);
        }
      });
    }

    addUserMessage(msg) {
      const p = document.createElement('p');
      p.textContent = `You: ${msg}`;
      p.style.color = '#0ff';
      this.chatWindow.appendChild(p);
      this.chatWindow.scrollTop = this.chatWindow.scrollHeight;
    }

    botReply() {
      // Simple AI reply logic
      const userLast = this.chatWindow.lastChild?.textContent?.toLowerCase() || '';
      let reply = this.responses[Math.floor(Math.random() * this.responses.length)];

      // Basic keyword replies
      if (userLast.includes('lobster')) reply = "Can't stop thinking about those rave lobsters! ðŸ¦žðŸ”¥";
      else if (userLast.includes('rave')) reply = "Rave till dawn, Dante! You know it.";
      else if (userLast.includes('movie')) reply = "Got any favorite movies? I'm all about those cult classics!";
      else if (userLast.includes('rap')) reply = "Drop a beat, Dante! What's your top rap track?";
      else if (userLast.includes('engineer') || userLast.includes('engineering')) reply = "Engineering wizardry is your superpower!";
      else if (userLast.includes('weed') || userLast.includes('smoke')) reply = "Stay chill, my dude. Keep it smooth.";
      else if (userLast.includes('dark joke')) reply = "I got some dark jokes, but only for the brave!";
      
      const p = document.createElement('p');
      p.textContent = `DanteBot: ${reply}`;
      p.style.color = '#f0f';
      this.chatWindow.appendChild(p);
      this.chatWindow.scrollTop = this.chatWindow.scrollHeight;
    }
  }

  // === Sh*t That Reels Me In - Dante's Edition ===
  class ReelsTool {
    constructor() {
      this.spinBtn = document.getElementById('spin-reels');
      this.output = document.getElementById('reels-output');

      this.categories = [
        "Dark Jokes",
        "Funny Stories",
        "Rave Vibes",
        "Engineering Facts",
        "Lobster Fishing Tips",
        "Rap Lyrics",
        "Festival Memories",
        "Food Cravings",
        "Trailer Park Boys Quotes",
        "Sassy The Sasquatch Quotes",
        "ADHD Hacks",
        "Recovery Encouragement",
        "Native Wisdom",
        "Stoner Thoughts",
        "Random Wild Card"
      ];

      this.jokes = [
        "Why don't lobsters ever share? Because theyâ€™re shellfish.",
        "I tried to catch some fog yesterday. Mist.",
        "Why did the engineer bring a ladder to the rave? Because the beats were high.",
        "I'm not addicted to fishing, I just like to tackle life one catch at a time.",
        "Why did the rapper break up with the microphone? Too many bad vibes.",
        "Sassy the Sasquatch once said: 'If you can't find the path, blaze your own trail.'",
        "Dark joke: I told my therapist about my addiction. Now heâ€™s addicted to billing me.",
        "Festival tip: If you canâ€™t find the rave, be the rave.",
        "Recovery is a journey, not a destination. But sometimes a pit stop at the snack bar helps.",
        "ADHD hack: Distract yourself productively by chasing lobsters!",
      ];

      this.spinBtn.addEventListener('click', () => this.spin());
      this.output.textContent = "Ready to spin? Click the button!";
    }

    spin() {
      // Select random category and joke/fact
      const cat = this.categories[Math.floor(Math.random() * this.categories.length)];
      const joke = this.jokes[Math.floor(Math.random() * this.jokes.length)];
      this.output.innerHTML = `<strong>Category:</strong> ${cat}<br/><br/>${joke}`;
    }
  }

  // === Initialize all modules when DOM is ready ===
  document.addEventListener('DOMContentLoaded', () => {
    window.lobsterGame = new LobsterGame();
    window.memeViewer = new MemeViewer();
    window.danteBotChat = new DanteBotChat();
    window.reelsTool = new ReelsTool();
  });
</script>

</body>
</html>