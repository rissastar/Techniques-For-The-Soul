<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Sleep Spinner</title>
  <style>
    body {
      margin: 0;
      font-family: "Segoe UI", sans-serif;
      background: linear-gradient(to bottom, #dce9f9, #e6d8f7);
      color: #333;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
    }

    h1 {
      color: #6b4fa0;
      margin-bottom: 20px;
    }

    .spinner-container {
      position: relative;
      width: 320px;
      height: 320px;
    }

    .wheel {
      width: 100%;
      height: 100%;
      border-radius: 50%;
      border: 10px solid #c8b6e2;
      position: relative;
      overflow: hidden;
      transform: rotate(0deg);
      transition: transform 4s cubic-bezier(0.33, 1, 0.68, 1);
    }

    .wheel div {
      position: absolute;
      width: 50%;
      height: 50%;
      background: #fff;
      transform-origin: 100% 100%;
      clip-path: polygon(0 0, 100% 0, 100% 100%);
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 12px;
      font-weight: bold;
      padding: 8px;
      text-align: center;
    }

    .arrow {
      width: 0; 
      height: 0; 
      border-left: 20px solid transparent;
      border-right: 20px solid transparent;
      border-bottom: 30px solid #f7c948;
      position: absolute;
      top: -40px;
      left: 50%;
      transform: translateX(-50%);
    }

    button {
      margin-top: 20px;
      padding: 10px 20px;
      background-color: #a88ce1;
      color: white;
      border: none;
      border-radius: 6px;
      font-size: 16px;
      cursor: pointer;
    }

    .popup {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: white;
      color: #333;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0px 5px 20px rgba(0,0,0,0.3);
      display: none;
      z-index: 10;
      max-width: 90%;
      width: 400px;
    }

    .popup h2 {
      margin-top: 0;
    }

    .overlay {
      position: fixed;
      width: 100%;
      height: 100%;
      top: 0; left: 0;
      background: rgba(0,0,0,0.5);
      display: none;
      z-index: 9;
    }

    .close {
      background: #f7c948;
      border: none;
      padding: 8px 14px;
      margin-top: 15px;
      cursor: pointer;
      border-radius: 4px;
    }
  </style>
</head>
<body>
  <h1>ðŸŽ¡ Sleepy Spinner</h1>
  <div class="spinner-container">
    <div class="arrow"></div>
    <div class="wheel" id="wheel"></div>
  </div>
  <button onclick="spin()">Spin</button>

  <div class="overlay" id="overlay"></div>
  <div class="popup" id="popup">
    <h2 id="gameTitle"></h2>
    <p id="gameDesc"></p>
    <button class="close" onclick="closePopup()">Close</button>
  </div>

  <script>
    const games = [
      { title: "ðŸŒ™ 4-7-8 Breathing", desc: "Inhale 4, hold 7, exhale 8. Repeat 4x." },
      { title: "ðŸ§¸ Imaginary Room", desc: "Create your dream room in your mind." },
      { title: "ðŸŽ¨ Air Drawing", desc: "Draw shapes with your finger slowly." },
      { title: "ðŸ› Cocoa Body Scan", desc: "Warm cocoa pours down, relaxing each part." },
      { title: "ðŸ’­ 5-4-3-2-1 Grounding", desc: "Name 5 see, 4 feel, 3 hear, 2 smell, 1 taste." },
      { title: "ðŸª Dream Elevator", desc: "Each floor opens to a magical world." },
      { title: "ðŸŽ§ Sound Tracker", desc: "Count soft sounds without reacting." },
      { title: "ðŸŒŒ Star Collector", desc: "Catch stars, each one calming you." },
      { title: "ðŸš Ocean Breath", desc: "Breathe with the tide, slow and gentle." },
      { title: "ðŸŽ Gratitude Glow", desc: "Think of 3 things youâ€™re grateful for." },
      { title: "ðŸŒˆ Rainbow Path", desc: "Walk a rainbow trail in your mind." },
      { title: "ðŸ›Œ Cloud Bed", desc: "Imagine fluffing a cloud and laying in it." },
      { title: "ðŸ¦„ Magical Creature", desc: "Cuddle an imaginary, soft creature." },
      { title: "ðŸªž Calm Mirror", desc: "See and become your calm reflection." },
      { title: "ðŸ•Šï¸ Falling Feathers", desc: "Count feathers drifting in the sky." },
      { title: "ðŸŒº Flower Breath", desc: "Smell the flower, blow the petals." },
      { title: "ðŸ“š Storytime", desc: "Invent a cozy bedtime story." },
      { title: "ðŸŽˆ Balloon Breaths", desc: "Inhale slow, exhale like a balloon deflating." },
      { title: "ðŸŽ  Carousel Dreams", desc: "Ride a gentle carousel through sleepy lands." },
      { title: "ðŸŽ¶ Lullaby Loop", desc: "Hum a tune in your head slowly." },
      { title: "ðŸ¾ Footsteps", desc: "Imagine soft footsteps in warm sand." },
      { title: "ðŸ«§ Bubble Float", desc: "Float inside a bubble drifting in the sky." },
      { title: "ðŸ•ï¸ Campfire Crackle", desc: "Picture a warm campfire gently crackling." },
      { title: "ðŸ› Cocoon Wrap", desc: "Wrap yourself in a soft cocoon of light." },
      { title: "ðŸ’¡ Dream Light", desc: "Dim an imaginary light slowly with breath." },
      { title: "ðŸŽ‚ Candle Game", desc: "Blow out candles one by one with breath." },
      { title: "ðŸšªDoor to Dreams", desc: "Open a glowing door to your dream world." },
      { title: "ðŸ§¦ Warm Socks", desc: "Feel cozy socks sliding on and warming you." },
      { title: "ðŸ§­ Star Compass", desc: "Follow your dream compass in the sky." },
      { title: "ðŸŒ  Wish Whispers", desc: "Send quiet wishes to the stars above." }
    ];

    const wheel = document.getElementById("wheel");
    const segments = games.length;
    const angle = 360 / segments;

    games.forEach((game, i) => {
      const segment = document.createElement("div");
      segment.style.transform = `rotate(${i * angle}deg) skewY(-${90 - angle}deg)`;
      segment.style.backgroundColor = i % 2 === 0 ? "#d5c6f0" : "#f3f1f8";
      segment.innerText = game.title;
      wheel.appendChild(segment);
    });

    let currentRotation = 0;

    function spin() {
      const randomIndex = Math.floor(Math.random() * segments);
      const spinAmount = 360 * 6 + (360 - randomIndex * angle - angle / 2);
      currentRotation += spinAmount;
      wheel.style.transform = `rotate(${currentRotation}deg)`;

      setTimeout(() => {
        showPopup(randomIndex);
      }, 4200);
    }

    function showPopup(index) {
      document.getElementById("gameTitle").innerText = games[index].title;
      document.getElementById("gameDesc").innerText = games[index].desc;
      document.getElementById("overlay").style.display = "block";
      document.getElementById("popup").style.display = "block";
    }

    function closePopup() {
      document.getElementById("overlay").style.display = "none";
      document.getElementById("popup").style.display = "none";
    }
  </script>
</body>
</html>