<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <title>Dante‚Äôs Fun Hub 4.0</title>
  <style>
    /* === GLOBAL & RESET === */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      user-select: none;
      -webkit-tap-highlight-color: transparent;
    }
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: radial-gradient(circle at center, #0c002b 0%, #1c0047 80%);
      color: #0ff;
      min-height: 100vh;
      overflow-x: hidden;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      padding: 15px 10px 30px;
    }
    h1, h2, h3 {
      font-weight: 900;
      text-shadow: 0 0 10px #0ff, 0 0 20px #0ff;
      letter-spacing: 1.5px;
      margin-bottom: 12px;
    }
    h1 {
      font-size: 2.4rem;
      margin-top: 15px;
      margin-bottom: 25px;
      color: #2affff;
      text-align: center;
      font-family: 'Orbitron', sans-serif;
    }
    h2 {
      font-size: 1.6rem;
      margin-bottom: 10px;
      color: #14cde7;
    }
    p {
      font-size: 1.1rem;
      line-height: 1.4;
      margin-bottom: 14px;
      color: #a0f0ff;
      max-width: 400px;
    }

    /* === BUTTONS === */
    button {
      background: linear-gradient(135deg, #00ffe7, #006db3);
      border: none;
      border-radius: 12px;
      box-shadow: 0 0 10px #00ffe7;
      color: #001f3f;
      cursor: pointer;
      font-weight: 700;
      font-size: 1.1rem;
      margin: 8px 5px;
      padding: 12px 22px;
      transition: background 0.3s ease, color 0.3s ease;
      user-select: none;
      min-width: 120px;
      text-align: center;
      letter-spacing: 1px;
    }
    button:hover,
    button:focus {
      background: #00ffe7;
      color: #00334d;
      outline: none;
    }

    /* === CONTAINER & LAYOUT === */
    #app {
      width: 100%;
      max-width: 420px;
      background: #030018;
      border-radius: 18px;
      padding: 20px 18px 30px;
      box-shadow: 0 0 30px #00ffe7;
      display: flex;
      flex-direction: column;
      align-items: center;
      user-select: none;
      min-height: 85vh;
    }
    #buttonPanel {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      margin-bottom: 24px;
      gap: 10px;
    }

    /* === POPUP === */
    #popupOverlay {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0, 0, 0, 0.9);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 9999;
      padding: 20px;
      user-select: none;
    }
    #popup {
      background: #0b0035;
      border-radius: 14px;
      max-width: 380px;
      width: 100%;
      padding: 20px 25px 30px;
      box-shadow: 0 0 25px #0ff;
      color: #00fff7;
      text-align: center;
      position: relative;
      user-select: text;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      overflow-y: auto;
      max-height: 85vh;
    }
    #popup h2 {
      margin-bottom: 14px;
      font-family: 'Orbitron', sans-serif;
      text-shadow: 0 0 15px #00fff7;
    }
    #popup p {
      margin-bottom: 18px;
      color: #a0f9ff;
    }
    #popup button {
      margin: 8px 10px 0;
      min-width: 90px;
      font-size: 1rem;
      border-radius: 10px;
    }

    /* === CANVAS DRAW PAD === */
    #drawPadCanvas {
      border: 2px solid #00ffe7;
      border-radius: 12px;
      background: #010019;
      box-shadow: 0 0 12px #00ffe7;
      width: 100%;
      height: 300px;
      touch-action: none;
      cursor: crosshair;
      margin: 10px 0 12px;
    }

    /* === SCROLLBAR FOR POPUP CONTENT === */
    #popup::-webkit-scrollbar {
      width: 7px;
    }
    #popup::-webkit-scrollbar-track {
      background: #0b0035;
    }
    #popup::-webkit-scrollbar-thumb {
      background: #00fff7;
      border-radius: 5px;
    }

    /* === SCROLLBAR FOR MOBILE Safari */
    ::-webkit-scrollbar {
      display: none;
    }
  </style>
</head>
<body>
  <div id="app" role="main" aria-label="Dante‚Äôs Fun Hub">
    <h1>Dante‚Äôs Fun Hub 4.0</h1>
    <div id="buttonPanel" role="navigation" aria-label="Main menu buttons">
      <button id="btnDanteBox" aria-haspopup="dialog">üéÅ DanteBox</button>
      <button id="btnDailyChallenge" aria-haspopup="dialog">üß† Daily Challenge</button>
      <button id="btnZeusCorner" aria-haspopup="dialog">üêæ Zeus‚Äôs Corner</button>
      <button id="btnCarEngineering" aria-haspopup="dialog">üöó Car & Engineering</button>
      <button id="btnDanteBot" aria-haspopup="dialog">ü§ñ DanteBot Chat</button>
      <button id="btnMiniGames" aria-haspopup="dialog">üéÆ Mini-Games</button>
      <button id="btnFunnyFacts" aria-haspopup="dialog">üòÇ Funny Facts</button>
      <button id="btnSnackIdeas" aria-haspopup="dialog">üçü Snack Ideas</button>
      <button id="btn420Facts" aria-haspopup="dialog">üåø 420 Facts</button>
      <button id="btnHighThoughts" aria-haspopup="dialog">üö¨ High Thoughts</button>
      <button id="btnDrawPad" aria-haspopup="dialog">üñºÔ∏è High Doodles</button>
    </div>
  </div>

  <div id="popupOverlay" role="dialog" aria-modal="true" aria-labelledby="popupTitle" tabindex="-1">
    <div id="popup" tabindex="0">
      <h2 id="popupTitle"></h2>
      <div id="popupContent"></div>
      <div id="popupButtons" style="margin-top:15px;"></div>
    </div>
  </div>

<script>
(() => {
  const neonColor = '#00fff7';
  const raveBlue = '#14cde7';

  // Popup elements
  const popupOverlay = document.getElementById('popupOverlay');
  const popup = document.getElementById('popup');
  const popupTitle = document.getElementById('popupTitle');
  const popupContent = document.getElementById('popupContent');
  const popupButtons = document.getElementById('popupButtons');

  // Helpers for popup
  function openPopup(title, htmlContent, buttons = []) {
    popupTitle.textContent = title;
    popupContent.innerHTML = htmlContent;
    popupButtons.innerHTML = '';
    buttons.forEach(({label, onClick}) => {
      const btn = document.createElement('button');
      btn.textContent = label;
      btn.onclick = () => {
        onClick();
      };
      popupButtons.appendChild(btn);
    });
    popupOverlay.style.display = 'flex';
    popup.focus();
  }
  function closePopup() {
    popupOverlay.style.display = 'none';
  }

  // Content Arrays

  // DanteBox surprise items
  const danteBoxItems = [
    "‚ÄúKeep your engine running smooth, Dante!‚Äù",
    "Try this snack: Pickle chips dipped in peanut butter - üî•",
    "Sassy the Sasquatch says: 'Stay wild, stay weird!'",
    "Fun fact: Lobsters can live up to 50 years.",
    "Daily rap challenge: Finish the lyric 'Started from the bottom‚Ä¶'",
    "Zeus wants you to throw the ball ‚Äî again!",
  ];

  // Daily Dopamine Challenges
  const dailyChallenges = [
    "Do your best Trailer Park Boys impression!",
    "Name 5 rap songs in 10 seconds.",
    "Build a crazy engineering idea in your head.",
    "Try a new snack combo today!",
    "Tell Zeus a funny joke and watch his reaction.",
    "Dance for 1 minute like you‚Äôre at a rave.",
  ];

  // Zeus‚Äôs Corner - dog stuff
  const zeusCorner = [
    "Zeus says: 'I‚Äôm the goodest boy, give me cheese üßÄ!'",
    "Try teaching Zeus a new trick today!",
    "Did you know? Zeus loves belly rubs and rave beats.",
    "Dog meme: 'I bark at the moon and party all night.'",
  ];

  // Car & Engineering
  const carEngineering = [
    "Engine tip: Regular oil changes = happy engine.",
    "Fix-it fact: WD-40 can solve many squeaks.",
    "Build idea: Imagine a rave-themed car dashboard!",
    "Car meme: 'My other ride is a lobster boat.'",
  ];

  // DanteBot fake chat replies
  const danteBotReplies = [
    "Yo that‚Äôs dope üòé",
    "You got this, Dante!",
    "Need help? Just ask Zeus.",
    "Fix it, tweak it, repeat it!",
    "On a scale of 1-10, you‚Äôre an 11.",
  ];

  // Mini-games
  const miniGames = [
    {
      name: "Rave Tap Race",
      description: "Tap the button as fast as you can in 10 seconds!",
      play() {
        let count = 0;
        openPopup(this.name, `
          <p>${this.description}</p>
          <button id="tapButton" style="font-size:2rem; padding:20px 40px; margin-top:15px;">Tap Me!</button>
          <p id="tapCount" style="margin-top:15px; font-size:1.4rem;">Taps: 0</p>
          <p id="timer" style="margin-top:10px; font-size:1.2rem;"></p>
        `, [
          {label: "Stop", onClick: () => {
            clearInterval(timerInterval);
            openPopup("Game Over", `You tapped ${count} times!`, [{label:"Close", onClick: closePopup}]);
          }}
        ]);
        const tapButton = document.getElementById('tapButton');
        const tapCount = document.getElementById('tapCount');
        const timerDisplay = document.getElementById('timer');
        tapButton.onclick = () => {
          count++;
          tapCount.textContent = `Taps: ${count}`;
        };
        let timeLeft = 10;
        timerDisplay.textContent = `Time left: ${timeLeft}s`;
        const timerInterval = setInterval(() => {
          timeLeft--;
          timerDisplay.textContent = `Time left: ${timeLeft}s`;
          if (timeLeft <= 0) {
            clearInterval(timerInterval);
            tapButton.disabled = true;
            openPopup("Time's Up!", `You tapped ${count} times!`, [{label:"Close", onClick: closePopup}]);
          }
        }, 1000);
      }
    },
    {
      name: "Meme Catcher",
      description: "Catch falling memes by tapping the screen!",
      play() {
        openPopup(this.name, `<p>Game coming soon!</p>`, [{label:"Close", onClick: closePopup}]);
      }
    }
  ];

  // Funny Facts with Sassy the Sasquatch vibe
  const funnyFacts = [
    "Sassy the Sasquatch once tried to fix a car engine... it still smells like pine needles.",
    "Trailer Park Boys say: 'I'm not a bad guy, I'm just drawn that way.'",
    "Did you know? Lobsters can taste with their feet!",
    "Dark joke: Why did the stoner fix his car? Because it was *high* maintenance.",
  ];

  // Snack Ideas
  const snackIdeas = [
    "Peanut butter & pickle chips (trust me).",
    "Microwave popcorn with sriracha drizzle.",
    "Cheese cubes & grapes, easy and classy.",
    "Trail mix with extra chocolate chips.",
  ];

  // 420 Facts
  const facts420 = [
    "Cannabis was used medicinally for thousands of years.",
    "420 originated as a code for cannabis culture in the 1970s.",
    "Some stoners believe music sounds better at 420.",
    "Sativa strains tend to be more energizing, Indica more relaxing.",
  ];

  // High Thoughts Generator
  const highThoughts = [
    "If a lobster got high, would it rave underwater?",
    "What if cars could sing rap lyrics when you drive?",
    "Is Zeus secretly a Sasquatch in disguise?",
    "Do fix-it challenges get easier or harder when stoned?",
  ];

  // State for cycling through arrays
  const state = {
    danteBoxIndex: 0,
    dailyChallengeIndex: 0,
    zeusCornerIndex: 0,
    carEngineeringIndex: 0,
    danteBotIndex: 0,
    funnyFactsIndex: 0,
    snackIdeasIndex: 0,
    facts420Index: 0,
    highThoughtsIndex: 0,
  };

  // General function to get next item with cycling
  function getNext(arr, key) {
    state[key] = (state[key] + 1) % arr.length;
    return arr[state[key]];
  }

  // Popups for each section

  // DanteBox Popup - random surprise with animation
  function openDanteBox() {
    // Shuffle surprise randomly from array
    const surprise = danteBoxItems[Math.floor(Math.random() * danteBoxItems.length)];
    openPopup("üéÅ DanteBox Surprise", `<p>${surprise}</p>`, [
      {label:"Open Again", onClick: openDanteBox},
      {label:"Close", onClick: closePopup},
    ]);
  }

  // Daily Dopamine Challenge Popup
  function openDailyChallenge() {
    const challenge = dailyChallenges[state.dailyChallengeIndex];
    openPopup("üß† Daily Dopamine Challenge", `<p>${challenge}</p>`, [
      {label:"Next Challenge", onClick: () => openDailyChallengeNext()},
      {label:"Close", onClick: closePopup},
    ]);
  }
  function openDailyChallengeNext() {
    state.dailyChallengeIndex = (state.dailyChallengeIndex + 1) % dailyChallenges.length;
    openDailyChallenge();
  }

  // Zeus‚Äôs Corner Popup
  function openZeusCorner() {
    const msg = zeusCorner[state.zeusCornerIndex];
    openPopup("üêæ Zeus‚Äôs Corner", `<p>${msg}</p>`, [
      {label:"Next", onClick: () => {
        state.zeusCornerIndex = (state.zeusCornerIndex + 1) % zeusCorner.length;
        openZeusCorner();
      }},
      {label:"Close", onClick: closePopup},
    ]);
  }

  // Car & Engineering Popup
  function openCarEngineering() {
    const tip = carEngineering[state.carEngineeringIndex];
    openPopup("üöó Car & Engineering", `<p>${tip}</p>`, [
      {label:"Next", onClick: () => {
        state.carEngineeringIndex = (state.carEngineeringIndex + 1) % carEngineering.length;
        openCarEngineering();
      }},
      {label:"Close", onClick: closePopup},
    ]);
  }

  // DanteBot Chat Popup (Fake AI chat with canned replies)
  function openDanteBot() {
    const reply = danteBotReplies[state.danteBotIndex];
    openPopup("ü§ñ DanteBot Chat", `<p>${reply}</p>`, [
      {label:"Next", onClick: () => {
        state.danteBotIndex = (state.danteBotIndex + 1) % danteBotReplies.length;
        openDanteBot();
      }},
      {label:"Close", onClick: closePopup},
    ]);
  }

  // Mini-Games Popup ‚Äî list of games to pick from
  function openMiniGames() {
    const gamesListHtml = miniGames.map((game, i) =>
      `<button aria-label="Play ${game.name}" style="width:100%; margin-bottom:8px;">üéÆ ${game.name}</button>`
    ).join('');
    openPopup("üéÆ Mini-Games", gamesListHtml, [
      {label:"Close", onClick: closePopup},
    ]);
    // Attach click handlers after popup renders
    miniGames.forEach((game, i) => {
      popupContent.querySelectorAll('button')[i].onclick = () => game.play();
    });
  }

  // Funny Facts Popup
  function openFunnyFacts() {
    const fact = funnyFacts[state.funnyFactsIndex];
    openPopup("üòÇ Funny Facts", `<p>${fact}</p>`, [
      {label:"Next", onClick: () => {
        state.funnyFactsIndex = (state.funnyFactsIndex + 1) % funnyFacts.length;
        openFunnyFacts();
      }},
      {label:"Close", onClick: closePopup},
    ]);
  }

  // Snack Ideas Popup
  function openSnackIdeas() {
    const idea = snackIdeas[state.snackIdeasIndex];
    openPopup("üçü Stoner Snack Ideas", `<p>${idea}</p>`, [
      {label:"Next", onClick: () => {
        state.snackIdeasIndex = (state.snackIdeasIndex + 1) % snackIdeas.length;
        openSnackIdeas();
      }},
      {label:"Close", onClick: closePopup},
    ]);
  }

  // 420 Facts Popup
  function open420Facts() {
    const fact = facts420[state.facts420Index];
    openPopup("üåø 420 Facts", `<p>${fact}</p>`, [
      {label:"Next", onClick: () => {
        state.facts420Index = (state.facts420Index + 1) % facts420.length;
        open420Facts();
      }},
      {label:"Close", onClick: closePopup},
    ]);
  }

  // High Thoughts Popup
  function openHighThoughts() {
    const thought = highThoughts[state.highThoughtsIndex];
    openPopup("üö¨ High Thoughts", `<p>${thought}</p>`, [
      {label:"Next", onClick: () => {
        state.highThoughtsIndex = (state.highThoughtsIndex + 1) % highThoughts.length;
        openHighThoughts();
      }},
      {label:"Close", onClick: closePopup},
    ]);
  }

  // Draw Pad Popup
  function openDrawPad() {
    openPopup("üñºÔ∏è High Doodles", `
      <canvas id="drawPadCanvas" width="360" height="300" aria-label="Drawing pad for doodles"></canvas>
      <div style="margin-top:12px;">
        <button id="btnClearDraw" style="background:#ff00cc; color:#fff; border:none; border-radius:8px; padding:8px 16px; font-weight:bold;">Clear</button>
        <button id="btnCloseDraw" style="background:#00ffee; color:#000; border:none; border-radius:8px; padding:8px 16px; font-weight:bold; margin-left:10px;">Close</button>
      </div>
    `, []);
    initDrawPad();
  }

  // Draw pad functionality
  function initDrawPad() {
    const canvas = document.getElementById('drawPadCanvas');
    if (!canvas) return;
    const ctx = canvas.getContext('2d');
    ctx.strokeStyle = neonColor;
    ctx.lineWidth = 3;
    ctx.lineCap = 'round';

    let drawing = false;
    let lastX = 0;
    let lastY = 0;

    function startDraw(e) {
      drawing = true;
      const pos = getPos(e);
      lastX = pos.x;
      lastY = pos.y;
    }
    function draw(e) {
      if (!drawing) return;
      e.preventDefault();
      const pos = getPos(e);
      ctx.beginPath();
      ctx.moveTo(lastX, lastY);
      ctx.lineTo(pos.x, pos.y);
      ctx.stroke();
      lastX = pos.x;
      lastY = pos.y;
    }
    function endDraw() {
      drawing = false;
    }
    function getPos(e) {
      if (e.touches && e.touches.length > 0) {
        const rect = canvas.getBoundingClientRect();
        return {
          x: e.touches[0].clientX - rect.left,
          y: e.touches[0].clientY - rect.top,
        };
      } else {
        const rect = canvas.getBoundingClientRect();
        return {
          x: e.clientX - rect.left,
          y: e.clientY - rect.top,
        };
      }
    }
    canvas.addEventListener('mousedown', startDraw);
    canvas.addEventListener('touchstart', startDraw);
    canvas.addEventListener('mousemove', draw);
    canvas.addEventListener('touchmove', draw);
    canvas.addEventListener('mouseup', endDraw);
    canvas.addEventListener('mouseout', endDraw);
    canvas.addEventListener('touchend', endDraw);

    document.getElementById('btnClearDraw').onclick = () => {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
    };
    document.getElementById('btnCloseDraw').onclick = () => {
      closePopup();
    };
  }

  // Attach event listeners to buttons
  document.getElementById('btnDanteBox').onclick = openDanteBox;
  document.getElementById('btnDailyChallenge').onclick = openDailyChallenge;
  document.getElementById('btnZeusCorner').onclick = openZeusCorner;
  document.getElementById('btnCarEngineering').onclick = openCarEngineering;
  document.getElementById('btnDanteBot').onclick = openDanteBot;
  document.getElementById('btnMiniGames').onclick = openMiniGames;
  document.getElementById('btnFunnyFacts').onclick = openFunnyFacts;
  document.getElementById('btnSnackIdeas').onclick = openSnackIdeas;
  document.getElementById('btn420Facts').onclick = open420Facts;
  document.getElementById('btnHighThoughts').onclick = openHighThoughts;
  document.getElementById('btnDrawPad').onclick = openDrawPad;

  // Close popup when clicking outside or pressing Escape
  popupOverlay.addEventListener('click', e => {
    if (e.target === popupOverlay) {
      closePopup();
    }
  });
  document.addEventListener('keydown', e => {
    if (e.key === 'Escape' && popupOverlay.style.display === 'flex') {
      closePopup();
    }
  });

  // Show a personal welcome intro on page load
  window.addEventListener('load', () => {
    openPopup(
      'Welcome to Dante‚Äôs Fun Hub!',
      `<p>Hey Dante! This is your personal dopamine dive ‚Äî full of stuff you love.<br>Explore the buttons, play games, read facts, chat with DanteBot, and doodle your rave vibes! üéâüíô</p>`,
      [{label: 'Let‚Äôs Go!', onClick: closePopup}]
    );
  });
})();
</script>

</body>
</html>