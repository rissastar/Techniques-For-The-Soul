<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Self-Care Toolkit</title>
<style>
  /* --- Base & Reset --- */
  * { box-sizing: border-box; margin:0; padding:0 }
  body { font-family:'Segoe UI', sans-serif; background: #fafafa; color: #333; display:flex; flex-direction:column; min-height:100vh; }
  header, footer { text-align:center; padding:1rem; background:#6c5b7b; color:#fff; }
  main { flex:1; max-width:900px; margin:1rem auto; padding:1rem; }
  h2 { margin:1.5rem 0 .8rem; font-family:'Poppins',sans-serif; color:#5a476b; }
  .section { background:#fff; border-radius:8px; box-shadow:0 2px 8px rgba(0,0,0,0.1); padding:1rem; margin-bottom:1rem; }
  button, select, input { font-family:inherit; }
  button { cursor:pointer; border:none; border-radius:4px; padding:.6rem 1rem; background: linear-gradient(135deg,#f67280,#c06c84); color:#fff; font-weight:600; transition:opacity .2s }
  button:hover { opacity:.9 }
  /* --- Language Toggle --- */
  #lang-toggle { position: absolute; top:1rem; right:1rem; background:transparent; font-size:1.2rem; }
  /* --- Breathing --- */
  #breath-circle { width:150px; height:150px; margin:1rem auto; border:6px solid #6c5b7b; border-radius:50%; animation: breathe 8s ease-in-out infinite; }
  @keyframes breathe {
    0%,100% { transform: scale(1); }
    50% { transform: scale(1.3); }
  }
  .center { text-align:center; }
  /* --- Flip Cards (Challenge) --- */
  .card { perspective:1000px; margin:1rem auto; width:80%; max-width:400px; }
  .inner { position:relative; width:100%; padding-top:56%; transform-style:preserve-3d; transition:transform .6s; cursor:pointer; }
  .card.flipped .inner { transform:rotateY(180deg) }
  .front, .back {
    position:absolute; top:0; left:0; width:100%; height:100%; backface-visibility:hidden;
    border-radius:8px; display:flex; align-items:center; justify-content:center; padding:1rem; box-shadow:0 2px 8px rgba(0,0,0,.1);
    font-size:1.1rem; text-align:center;
  }
  .front { background:#f8b500; color:#333 }
  .back { background:#355c7d; color:#fff; transform:rotateY(180deg) }
  /* --- Doodle Pad --- */
  #canvas { border:2px solid #6c5b7b; border-radius:8px; display:block; margin:1rem auto; touch-action:none; }
  /* --- Layout Grids --- */
  .grid2 { display:grid; grid-template-columns:1fr 1fr; gap:1rem; }
  .grid2 > div { margin-bottom:1rem; }
  label { display:block; margin-bottom:.3rem; font-weight:600; }
  textarea { width:100%; height:80px; border:1px solid #ccc; border-radius:4px; padding:.5rem; font-size:1rem; }
  /* --- Plan Builder --- */
  .plan-list { list-style:none; margin-top:.5rem; }
  .plan-list li { margin-bottom:.3rem; }
</style>
</head>
<body>
<button id="lang-toggle">üá´üá∑</button>
<header>
  <h1 id="title">Self-Care Toolkit</h1>
</header>
<main>

  <!-- Guided Breathing -->
  <div class="section center">
    <h2 id="br-title">Guided Breathing</h2>
    <div id="breath-circle"></div>
    <p class="center" id="br-text">Inhale... Exhale...</p>
  </div>

  <!-- Affirmation Generator -->
  <div class="section">
    <h2 id="af-title">Daily Affirmation</h2>
    <p id="af-display">‚ÄúYou are enough.‚Äù</p>
    <button id="af-btn">New Affirmation</button>
  </div>

  <!-- 30-Day Challenge -->
  <div class="section center">
    <h2 id="ch-title">30-Day Self-Care Challenge</h2>
    <div class="card" id="challenge-card">
      <div class="inner">
        <div class="front" id="ch-front">Tap to see your challenge</div>
        <div class="back" id="ch-back"></div>
      </div>
    </div>
    <small id="ch-day">Day 1 of 30</small>
  </div>

  <!-- Doodle Pad -->
  <div class="section">
    <h2 id="dd-title">Doodle Pad</h2>
    <canvas id="canvas" width="400" height="300"></canvas>
    <div class="grid2">
      <button id="dd-clear">Clear</button>
      <button id="dd-save">Download PNG</button>
    </div>
  </div>

  <!-- Gratitude Log -->
  <div class="section">
    <h2 id="gr-title">Gratitude Log</h2>
    <div class="grid2">
      <div><label id="gr-label1" for="gr1">1.</label><input type="text" id="gr1"/></div>
      <div><label id="gr-label2" for="gr2">2.</label><input type="text" id="gr2"/></div>
      <div><label id="gr-label3" for="gr3">3.</label><input type="text" id="gr3"/></div>
    </div>
    <button id="gr-save">Save Gratitudes</button>
  </div>

  <!-- Needs Picker -->
  <div class="section">
    <h2 id="np-title">What Do I Need Right Now?</h2>
    <select id="np-select"><option>‚Äî</option></select>
    <p id="np-suggestion"></p>
  </div>

  <!-- Custom Plan Builder -->
  <div class="section">
    <h2 id="pb-title">Build Your Self-Care Plan</h2>
    <label id="pb-label-goals">Select Goals:</label>
    <select id="pb-goals" multiple size="5">
      <option value="morning">Morning Routine</option>
      <option value="evening">Evening Wind-Down</option>
      <option value="stress">Stress Relief</option>
      <option value="focus">Boost Focus</option>
      <option value="sleep">Improve Sleep</option>
    </select>
    <button id="pb-build">Generate Plan</button>
    <ul class="plan-list" id="pb-output"></ul>
    <button id="pb-export">Download Plan (PDF)</button>
  </div>

</main>
<footer id="footer-text">¬© 2025 Self-Care Toolkit</footer>

<!-- jsPDF for PDF export -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script>
(() => {
  // --- BILINGUAL TEXT ---
  const texts = {
    en: {
      langBtn: 'üá´üá∑',
      title: 'Self-Care Toolkit',
      brTitle: 'Guided Breathing',
      brText: 'Inhale... Exhale...',
      afTitle: 'Daily Affirmation',
      chTitle: '30-Day Self-Care Challenge',
      ddTitle: 'Doodle Pad',
      grTitle: 'Gratitude Log',
      grLabels: ['1.', '2.', '3.'],
      grSave: 'Save Gratitudes',
      npTitle: 'What Do I Need Right Now?',
      pbTitle: 'Build Your Self-Care Plan',
      pbGoals: 'Select Goals:',
      pbBuild: 'Generate Plan',
      pbExport: 'Download Plan (PDF)',
      footer: '¬© 2025 Self-Care Toolkit',
      needs: {
        comfort: 'Comfort',
        inspiration: 'Inspiration',
        motivation: 'Motivation',
        rest: 'Rest'
      },
      needsSug: {
        Comfort: 'Take a warm bath or wrap yourself in a cozy blanket.',
        Inspiration: 'Read an inspiring quote or watch a motivational talk.',
        Motivation: 'Set a small goal and reward yourself when you achieve it.',
        Rest: 'Take a short nap or practice gentle stretches.'
      },
      affirmations: [
        'You are enough.',
        'I choose peace today.',
        'I am stronger than my challenges.',
        'I deserve care and kindness.',
        'Every breath renews me.'
      ],
      challenges: [
        'Write down 3 things you‚Äôre grateful for.',
        'Take a 10-minute mindful walk.',
        'Drink an extra glass of water.',
        'Do 5 minutes of stretching.',
        'Call a friend for a quick chat.',
        'Spend 5 minutes meditating.',
        'Write a short journal entry.',
        'Draw or doodle for 10 minutes.',
        'Listen to your favorite song.',
        'Practice deep breathing for 3 minutes.',
        // ... up to 30 items
      ],
      planItems: {
        morning: ['Drink a glass of water','Stretch for 5 minutes','Write a morning affirmation'],
        evening: ['Write down 3 gratitudes','Read for 10 minutes','Practice gentle yoga'],
        stress: ['Do 5 deep breaths','Listen to calming music','Take a short walk'],
        focus: ['Use Pomodoro (25/5)','Eliminate distractions','Set 3 top priorities'],
        sleep: ['Turn off screens 30min before bed','Practice relaxation','Keep a consistent bedtime']
      }
    },
    fr: {
      langBtn: 'üá¨üáß',
      title: 'Trousse de Soins Personnels',
      brTitle: 'Respiration Guid√©e',
      brText: 'Inspirez... Expirez...',
      afTitle: 'Affirmation Quotidienne',
      chTitle: 'D√©fi de 30 Jours',
      ddTitle: 'Bloc √† Gribouiller',
      grTitle: 'Journal de Gratitude',
      grLabels: ['1.', '2.', '3.'],
      grSave: 'Enregistrer Gratitudes',
      npTitle: 'De quoi ai-je besoin maintenant ?',
      pbTitle: 'Cr√©ez Votre Plan',
      pbGoals: 'S√©lectionnez Objectifs :',
      pbBuild: 'G√©n√©rer le Plan',
      pbExport: 'T√©l√©charger le Plan (PDF)',
      footer: '¬© 2025 Trousse de Soins',
      needs: {
        comfort: 'Confort',
        inspiration: 'Inspiration',
        motivation: 'Motivation',
        rest: 'Repos'
      },
      needsSug: {
        Confort: 'Prenez un bain chaud ou enveloppez-vous dans une couverture douillette.',
        Inspiration: 'Lisez une citation inspirante ou regardez un discours motivant.',
        Motivation: 'Fixez-vous un petit objectif et r√©compensez-vous.',
        Repos: 'Faites une sieste courte ou des √©tirements doux.'
      },
      affirmations: [
        'Vous √™tes assez.',
        'Je choisis la paix aujourd‚Äôhui.',
        'Je suis plus fort(e) que mes d√©fis.',
        'Je m√©rite soin et gentillesse.',
        'Chaque respiration me renouvelle.'
      ],
      challenges: [
        '√âcrivez 3 choses pour lesquelles vous √™tes reconnaissant(e).',
        'Faites une promenade consciente de 10 minutes.',
        'Buvez un verre d‚Äôeau suppl√©mentaire.',
        'Faites 5 minutes d‚Äô√©tirements.',
        'Appelez un ami pour discuter.',
        'M√©ditez 5 minutes.',
        '√âcrivez une entr√©e de journal.',
        'Gribouillez ou dessinez 10 minutes.',
        '√âcoutez votre chanson pr√©f√©r√©e.',
        'Pratiquez la respiration profonde 3 minutes.',
        // ... jusqu‚Äô√† 30 items
      ],
      planItems: {
        morning: ['Buvez un verre d‚Äôeau','√âtirez-vous 5 minutes','√âcrivez une affirmation matinale'],
        evening: ['√âcrivez 3 gratitudes','Lisez 10 minutes','Faites du yoga doux'],
        stress: ['Prenez 5 respirations','√âcoutez musique apaisante','Faites une courte marche'],
        focus: ['Utilisez Pomodoro (25/5)','√âliminez distractions','Fixez 3 priorit√©s'],
        sleep: ['√âteignez √©crans 30 min avant le lit','Pratiquez relaxation','Heure de coucher r√©guli√®re']
      }
    }
  };

  // --- STATE & UTILS ---
  let lang = localStorage.getItem('sc_lang') || 'en';
  const $ = id=>document.getElementById(id);
  function t(key) { return texts[lang][key]; }

  // --- APPLY TEXTS ---
  function applyText() {
    $('lang-toggle').textContent = texts[lang].langBtn;
    $('title').textContent = texts[lang].title;
    $('br-title').textContent = texts[lang].brTitle;
    $('br-text').textContent = texts[lang].brText;
    $('af-title').textContent = texts[lang].afTitle;
    $('ch-title').textContent = texts[lang].chTitle;
    $('dd-title').textContent = texts[lang].ddTitle;
    $('gr-title').textContent = texts[lang].grTitle;
    ['gr-label1','gr-label2','gr-label3'].forEach((id,i)=>$(id).textContent = texts[lang].grLabels[i]);
    $('gr-save').textContent = texts[lang].grSave;
    $('np-title').textContent = texts[lang].npTitle;
    $('pb-title').textContent = texts[lang].pbTitle;
    $('pb-build').textContent = texts[lang].pbBuild;
    $('pb-export').textContent = texts[lang].pbExport;
    $('footer-text').textContent = texts[lang].footer;

    // Needs picker options
    $('np-select').innerHTML = '<option>‚Äî</option>';
    Object.values(texts[lang].needs).forEach(n=>{
      const opt = document.createElement('option'); opt.textContent = n;
      $('np-select').appendChild(opt);
    });
  }

  // --- Language Toggle ---
  $('lang-toggle').onclick = ()=>{
    lang = lang==='en'?'fr':'en';
    localStorage.setItem('sc_lang',lang);
    applyText();
  };

  // --- Affirmations ---
  $('af-btn').onclick = ()=>{
    const arr = texts[lang].affirmations;
    $('af-display').textContent = arr[Math.floor(Math.random()*arr.length)];
  };

  // --- 30-Day Challenge ---
  let dayIndex = 0;
  const chArr = texts['en'].challenges; // same length arrays
  const chArrFR = texts['fr'].challenges;
  const total = 30;
  function showChallenge() {
    const en = texts['en'].challenges[dayIndex];
    const fr = texts['fr'].challenges[dayIndex];
    $('ch-back').textContent = lang==='en'?en:fr;
    $('ch-day').textContent = lang==='en'
      ? `Day ${dayIndex+1} of ${total}`
      : `Jour ${dayIndex+1} sur ${total}`;
  }
  $('challenge-card').onclick = function(){
    this.classList.toggle('flipped');
    if(this.classList.contains('flipped')){
      showChallenge();
    } else { dayIndex = (dayIndex+1)%total; $('challenge-card').classList.remove('flipped'); }
  };

  // --- Doodle Pad ---
  const canvas = $('canvas'), ctx = canvas.getContext('2d');
  let painting=false;
  canvas.onpointerdown = ()=>painting=true;
  canvas.onpointerup = ()=>painting=false;
  canvas.onpointermove = e=>{
    if(!painting) return;
    ctx.lineWidth=2; ctx.lineCap='round';
    const rect=canvas.getBoundingClientRect();
    ctx.lineTo(e.clientX-rect.left,e.clientY-rect.top);
    ctx.stroke();
    ctx.beginPath(); ctx.moveTo(e.clientX-rect.left,e.clientY-rect.top);
  };
  $('dd-clear').onclick = ()=>{
    ctx.clearRect(0,0,canvas.width,canvas.height);
  };
  $('dd-save').onclick = ()=>{
    const link=document.createElement('a');
    link.download='doodle.png'; link.href=canvas.toDataURL();
    link.click();
  };

  // --- Gratitude Log ---
  $('gr-save').onclick = ()=>{
    ['gr1','gr2','gr3'].forEach(id=>{
      localStorage.setItem(id, $(id).value );
    });
    alert(lang==='en'? 'Saved!' : 'Enregistr√© !');
  };
  window.onload = ()=>{ 
    // load gratitudes
    ['gr1','gr2','gr3'].forEach(id=>{
      const v = localStorage.getItem(id);
      if(v) $(id).value=v;
    });
    applyText();
  };

  // --- Needs Picker ---
  $('np-select').onchange = ()=>{
    const sel = $('np-select').value;
    $('np-suggestion').textContent = sel
      ? texts[lang].needsSug[sel]
      : '';
  };

  // --- Plan Builder ---
  $('pb-build').onclick = ()=>{
    const sel = [...$('pb-goals').selectedOptions].map(o=>o.value);
    const out = $('pb-output'); out.innerHTML='';
    sel.forEach(g=>{
      const arr = texts[lang].planItems[g];
      arr.forEach(item=>{
        const li = document.createElement('li');
        li.textContent = '‚Ä¢ '+item;
        out.appendChild(li);
      });
    });
  };
  $('pb-export').onclick = ()=>{
    const { jsPDF } = window.jspdf;
    const doc = new jsPDF();
    let y=10;
    doc.setFontSize(16);
    doc.text(texts[lang].pbTitle,105,y,{align:'center'});
    y+=10; doc.setFontSize(12);
    [...$('pb-output').children].forEach(li=>{
      if(y>270){ doc.addPage(); y=10 }
      doc.text(li.textContent,10,y);
      y+=7;
    });
    doc.save('SelfCarePlan.pdf');
  };

})();
</script>
</body>
</html>